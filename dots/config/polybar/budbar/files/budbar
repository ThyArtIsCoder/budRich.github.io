; polybar config, curated by budRich since 2016
;                          
;       

[module/mpd]
type = internal/mpd
host = 127.0.0.1
port = 6601

format-online = <label-song> <icon-repeat> <icon-random>
format-offline = <label-offline>
format-playing = ${self.format-online}
format-paused = ${self.format-online}
format-stopped = ${self.format-offline}

format-paused-foreground = ${colors.red}
format-playing-foreground = ${colors.red}

label-offline = turn on some music, dude
label-online = turn on some music, dude

icon-repeat = 
icon-random = 
icon-random-margin-right = 0
toggle-on-foreground = ${colors.blk}

label-song-maxlen = 35
label-song-ellipsis = true


[module/xwindow]
type = internal/xwindow
label = %title:0:50:...%

[module/wlan]
type = internal/network
interface = wlo1
interval = 3.0

format-connected =  <label-connected>
label-connected = %downspeed:2%

format-disconnected =

[module/cpu]
type = internal/cpu
interval = 2
format-prefix = " "
label = %percentage%

[module/memory]
type = internal/memory
interval = 2
format-prefix = " "
label = %percentage_used%

[module/battery]
type = internal/battery
battery = BAT0
adapter = AC
full-at = 98

format-charging =  <label-charging>
format-discharging = <ramp-capacity> <label-discharging>

label-charging = %percentage%
label-discharging = ${self.label-charging}

ramp-capacity-0 = 
ramp-capacity-1 = 
ramp-capacity-2 = 
ramp-capacity-3 = 
ramp-capacity-4 = 

ramp-capacity-0-foreground = ${colors.red}
ramp-capacity-1-foreground = ${colors.red}
ramp-capacity-2-foreground = ${colors.foreground}
ramp-capacity-3-foreground = ${colors.foreground}
ramp-capacity-4-foreground = ${colors.foreground}

[module/xbacklight]
type = internal/xbacklight

format = <label>
label =  %percentage%
label-foreground = ${colors.foreground}

[module/pbvol]
type = custom/script
tail = true
label = %output%
exec = ~/.config/polybar/scripts/pbvol --listen
click-right = exec pavucontrol
click-left = ~/.config/polybar/scripts/pbvol --togmute
scroll-up = ~/.config/polybar/scripts/pbvol --up
scroll-down = ~/.config/polybar/scripts/pbvol --down

[module/pbmic]
type = custom/script
tail = true
label = %output%
interval = 3
exec = ~/.config/polybar/scripts/pbmic
click-right = exec pavucontrol
click-left = pactl set-source-mute @DEFAULT_SOURCE@ toggle
scroll-up = pactl set-source-volume @DEFAULT_SOURCE@ "+2%"
scroll-down = pactl set-source-volume @DEFAULT_SOURCE@ "-2%"

[module/pbweather]
type = custom/script
tail = true
label = %output%
interval = 3000
exec = ~/.config/polybar/scripts/pbweather

[module/pbmail]
type = custom/script
tail = true
label = %output%
interval = 1000
exec = ~/.config/polybar/scripts/pbmail
click-left = i3run2 -c Vivaldi-stable -e 'vivaldi-snapshot' && xdg-open http://mail.google.com

[module/date]
type = internal/date
interval = 5

date =
date-alt = ""

time = %H:%M
time-alt = %m|%d

format-prefix =
;format-underline = #0a6cf5

label = %time%

label-margin-left = 1

[settings]
screenchange-reload = true


[colors]

blk = ${xrdb:color0:#222}
blk2 = ${xrdb:color8:#222}
red = ${xrdb:color1:#222}
red2 = ${xrdb:color9:#222}
grn = ${xrdb:color2:#222}
grn2 = ${xrdb:color10:#222}
ylw = ${xrdb:color3:#222}
ylw2 = ${xrdb:color11:#222}
blu = ${xrdb:color4:#222}
blu2 = ${xrdb:color12:#222}
mag = ${xrdb:color5:#222}
mag2 = ${xrdb:color13:#222}
cyn = ${xrdb:color6:#222}
cyn2 = ${xrdb:color14:#222}
wht = ${xrdb:color7:#222}
wht2 = ${xrdb:color15:#222}

background = ${colors.blu}
background-alt = ${colors.blk2}
foreground = ${colors.wht}
foreground-alt = ${colors.wht}
primary = ${colors.blu}
secondary = ${colors.mag}
alert = ${colors.red}

[bar/example]
;monitor = ${env:MONITOR:HDMI-1}
width = 100%
height = 20
offset-x = 0
offset-y = 0
radius = 0
fixed-center = false

background = ${colors.background}
foreground = ${colors.foreground}

line-size = 3
line-color = #f00

border-size = 0
border-color = #00000000

padding-left = 0
padding-right = 1

module-margin-left = 0
module-margin-right = 1

font-0 = Fixedsys Excelsior 3.01\-L2 Mono:style=Regular:pixelsize=12:antialias=false;2
;font-0 = xos4 Terminus:style=Bold:pixelsize=12:antialias=false;2
;font-0 = Monaco:style=Regular:pixelsize=10;2
;font-1 = unifont:fontformat=truetype:size=8:antialias=false;0
font-1 = FontAwesome:pixelsize=9;2

tray-position = right
tray-padding = 2

; this combo is important to overlay tabs.
override-redirect = true
;wm-restack = i3

modules-left = date pbvol pbmic xbacklight battery memory cpu pbweather pbmail wlan
modules-center = xwindow
modules-right = mpd
