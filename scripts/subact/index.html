<!doctype html>
<html>
<head>
    <base href="https://budrich.github.io/">
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, minimum-scale=1.0, maximum-scale=1.0, user-scalable=no">
<meta name="author" content="">

<meta name="description" content="">

<title>subact</title>
<meta name="generator" content="Hugo 0.30.2" />
<link  href="https://budrich.github.io/stylesheets/styles.css" rel="stylesheet" type="text/css">

</head>
<body>




<input type="checkbox" id="sidebar" name="sidebar" class="sidebar-checkbox"/>
<div class="sidebar">
  <div class="sbbg">
    <div class="sbcontent">
      <a href="https://budrich.github.io/"  class="logo"><pre class="logo">
▗▄▄      ▐  ▗      ▐      
▐  ▌▗ ▗ ▄▟  ▐    ▄▖▐▄▖ ▄▖ 
▐▄▄▘▐ ▐▐▘▜  ▐   ▝ ▐▐▘▜▐ ▝ 
▐  ▌▐ ▐▐ ▐  ▐   ▗▀▜▐ ▐ ▀▚ 
▐▄▄▘▝▄▜▝▙█  ▐▄▄▖▝▄▜▐▙▛▝▄▞ 

[OC] by budRich since 2017
</pre>
</a>
      <label class="sidebar-toggle" for="sidebar"><span>Toggle</span></label>
      <div class="css-treeview box">  
          <ul>
            <li><a href="https://budrich.github.io/abouts/whoami"><span class="glyphicon glyphicon-briefcase"></span>about</a></li>
            <li>
              <li>
                <input type="checkbox" id="blog" checked />
                <label for="blog" class="section-item"><span class="glyphicon glyphicon-home"></span>blog</label>
                <ul>
                  
                  
                  
                  
                  
                    
                  
                    
                  
                    
                  
                    
                  
                    
                  
                    
                      
                      
                      
                      
                        
                        <li><li>
                        <input type="checkbox" id="2017" 
                        
                          checked
                         />
                        <label for="2017">2017</label><ul>
                        
                        
                      
                      
                        
                        <li><li>
                        <input type="checkbox" id="November" 
                        
                          checked
                         />
                        <label for="November">November</label><ul>
                        
                        
                      
                      
                        <li class="post-in-tree"><a href="https://budrich.github.io/blog/extreme_i3/"><span class="tree-date">21</span>|<span>extreme_i3</span></a></li>
                      
                    
                  
                    
                  
                    
                  
                    
                  
                    
                  
                    
                  
                    
                  
                    
                      
                      
                      
                      
                      
                        
                          </ul></li></li>
                        
                        <li><li>
                        <input type="checkbox" id="October" 
                         />
                        <label for="October">October</label><ul>
                        
                        
                      
                      
                        <li class="post-in-tree"><a href="https://budrich.github.io/blog/sublime_setup/"><span class="tree-date">17</span>|<span>sublime_setup</span></a></li>
                      
                    
                  
                    
                  
                    
                  
                    
                  
                    
                  
                    
                      
                      
                      
                      
                      
                      
                        <li class="post-in-tree"><a href="https://budrich.github.io/blog/fresh_start/"><span class="tree-date">01</span>|<span>fresh_start</span></a></li>
                      
                    
                  
                    
                      
                      
                      
                      
                      
                        
                          </ul></li></li>
                        
                        <li><li>
                        <input type="checkbox" id="September" 
                         />
                        <label for="September">September</label><ul>
                        
                        
                      
                      
                        <li class="post-in-tree"><a href="https://budrich.github.io/blog/perfect_folders/"><span class="tree-date">29</span>|<span>perfect_folders</span></a></li>
                      
                    
                  
                    
                      
                      
                      
                      
                      
                      
                        <li class="post-in-tree"><a href="https://budrich.github.io/blog/mouseback/"><span class="tree-date">25</span>|<span>mouseback</span></a></li>
                      
                    
                  
                    
                      
                      
                      
                      
                      
                      
                        <li class="post-in-tree"><a href="https://budrich.github.io/blog/swedish_keyboards/"><span class="tree-date">25</span>|<span>swedish_keyboards</span></a></li>
                      
                    
                  
                    
                      
                      
                      
                      
                      
                      
                        <li class="post-in-tree"><a href="https://budrich.github.io/blog/me_myself_and_i3/"><span class="tree-date">25</span>|<span>me_myself_and_i3</span></a></li>
                      
                    
                  
                    
                      
                      
                      
                      
                      
                      
                        <li class="post-in-tree"><a href="https://budrich.github.io/blog/install_i3/"><span class="tree-date">25</span>|<span>install_i3</span></a></li>
                      
                    
                  
                    
                      
                      
                      
                      
                      
                      
                        <li class="post-in-tree"><a href="https://budrich.github.io/blog/i3_setup/"><span class="tree-date">25</span>|<span>i3_setup</span></a></li>
                      
                    
                  
                    
                      
                      
                      
                      
                      
                      
                        <li class="post-in-tree"><a href="https://budrich.github.io/blog/font_rendering/"><span class="tree-date">25</span>|<span>font_rendering</span></a></li>
                      
                    
                  
                    
                  
                    
                  
                    
                  
                    
                  
                    
                  
                    
                  
                    
                  
                    
                  
                    
                  
                    
                  
                    
                  
                    
                  
                    
                  
                    
                  
                    
                  
                    
                  
                    
                  
                    
                  
                    
                  
                    
                  
                    
                  
                    
                  
                    
                  
                    
                  
                    
                  
                    
                  
                    
                  
                    
                  
                    
                  
                    
                  
                    
                  
                    
                  
                    
                  
                    
                  
                    
                  
                    
                  
                    
                  
                    
                  
                    
                  
                    
                  
                    
                  
                    
                      
                      
                      
                      
                      
                      
                    
                  
                    
                  
                    
                  
                    
                  
                    
                  
                </ul></li></li>
                </ul></li></li>
                </ul></li></li>

            
  
    
      <li>
        <li>
          <input type="checkbox" id="scripts" 
          
            ZgotmplZ
          

          ZgotmplZ
          ZgotmplZ
          ZgotmplZ
          
            checked
          

          />
          
            <label for="scripts" class="section-item"><span class="glyphicon 
            glyphicon-console"></span>scripts</label>
          
          <ul>
              
                <li>
                  <a href="https://budrich.github.io/scripts/igi/">
                  <span class="glyphicon glyphicon-file"></span><span
                    
                  >igi</span>
                  </a>
                </li>
            
                <li>
                  <a href="https://budrich.github.io/scripts/subact/">
                  <span class="glyphicon glyphicon-file"></span><span
                    
                      class="active-page"
                    
                  >subact</span>
                  </a>
                </li>
            
            <ul>
            
  

            </ul>
          </ul>
        </li>
      </li>
    
  
    
      <li>
        <li>
          <input type="checkbox" id="i3ass" 
          
            ZgotmplZ
          

          ZgotmplZ
          ZgotmplZ
          ZgotmplZ
          

          />
          
            <label for="i3ass" class="section-item"><span class="glyphicon 
            glyphicon-th-large"></span>i3ass</label>
          
          <ul>
              
                <li>
                  <a href="https://budrich.github.io/i3ass/readme/">
                  <span class="glyphicon glyphicon-file"></span><span
                    
                  >README</span>
                  </a>
                </li>
            
                <li>
                  <a href="https://budrich.github.io/i3ass/i3fyra/">
                  <span class="glyphicon glyphicon-file"></span><span
                    
                  >i3fyra</span>
                  </a>
                </li>
            
                <li>
                  <a href="https://budrich.github.io/i3ass/i3list/">
                  <span class="glyphicon glyphicon-file"></span><span
                    
                  >i3list</span>
                  </a>
                </li>
            
                <li>
                  <a href="https://budrich.github.io/i3ass/i3term/">
                  <span class="glyphicon glyphicon-file"></span><span
                    
                  >i3term</span>
                  </a>
                </li>
            
                <li>
                  <a href="https://budrich.github.io/i3ass/i3zen/">
                  <span class="glyphicon glyphicon-file"></span><span
                    
                  >i3zen</span>
                  </a>
                </li>
            
                <li>
                  <a href="https://budrich.github.io/i3ass/i3run/">
                  <span class="glyphicon glyphicon-file"></span><span
                    
                  >i3run</span>
                  </a>
                </li>
            
                <li>
                  <a href="https://budrich.github.io/i3ass/i3mtm/">
                  <span class="glyphicon glyphicon-file"></span><span
                    
                  >i3mtm</span>
                  </a>
                </li>
            
                <li>
                  <a href="https://budrich.github.io/i3ass/i3gw/">
                  <span class="glyphicon glyphicon-file"></span><span
                    
                  >i3gw</span>
                  </a>
                </li>
            
                <li>
                  <a href="https://budrich.github.io/i3ass/i3get/">
                  <span class="glyphicon glyphicon-file"></span><span
                    
                  >i3get</span>
                  </a>
                </li>
            
                <li>
                  <a href="https://budrich.github.io/i3ass/i3cast/">
                  <span class="glyphicon glyphicon-file"></span><span
                    
                  >i3cast</span>
                  </a>
                </li>
            
            <ul>
            
  

            </ul>
          </ul>
        </li>
      </li>
    
  
    
  
    
  
    
      <li>
        <li>
          <input type="checkbox" id="dots" 
          
            ZgotmplZ
          

          ZgotmplZ
          ZgotmplZ
          ZgotmplZ
          

          />
          
            <label for="dots" class="section-item"><span class="glyphicon 
            glyphicon-cog"></span>dots</label>
          
          <ul>
              
                <li>
                  <a href="https://budrich.github.io/dots/profile/">
                  <span class="glyphicon glyphicon-file"></span><span
                    
                  >profile</span>
                  </a>
                </li>
            
                <li>
                  <a href="https://budrich.github.io/dots/bashrc/">
                  <span class="glyphicon glyphicon-file"></span><span
                    
                  >bashrc</span>
                  </a>
                </li>
            
                <li>
                  <a href="https://budrich.github.io/dots/xresources/">
                  <span class="glyphicon glyphicon-file"></span><span
                    
                  >Xresources</span>
                  </a>
                </li>
            
                <li>
                  <a href="https://budrich.github.io/dots/xinitrc/">
                  <span class="glyphicon glyphicon-file"></span><span
                    
                  >xinitrc</span>
                  </a>
                </li>
            
            <ul>
            
  
    
      <li>
        <li>
          <input type="checkbox" id="bash" 
          
            ZgotmplZ
          

          ZgotmplZ
          ZgotmplZ
          ZgotmplZ
          

          />
          
            <label for="bash">bash</label>
          
          <ul>
              
                <li>
                  <a href="https://budrich.github.io/dots/bash/prompt/">
                  <span class="glyphicon glyphicon-file"></span><span
                    
                  >prompt</span>
                  </a>
                </li>
            
                <li>
                  <a href="https://budrich.github.io/dots/bash/func/">
                  <span class="glyphicon glyphicon-file"></span><span
                    
                  >func</span>
                  </a>
                </li>
            
                <li>
                  <a href="https://budrich.github.io/dots/bash/misc/">
                  <span class="glyphicon glyphicon-file"></span><span
                    
                  >misc</span>
                  </a>
                </li>
            
                <li>
                  <a href="https://budrich.github.io/dots/bash/export/">
                  <span class="glyphicon glyphicon-file"></span><span
                    
                  >export</span>
                  </a>
                </li>
            
                <li>
                  <a href="https://budrich.github.io/dots/bash/alias/">
                  <span class="glyphicon glyphicon-file"></span><span
                    
                  >alias</span>
                  </a>
                </li>
            
            <ul>
            
  

            </ul>
          </ul>
        </li>
      </li>
    
  
    
      <li>
        <li>
          <input type="checkbox" id="xres" 
          
            ZgotmplZ
          

          ZgotmplZ
          ZgotmplZ
          ZgotmplZ
          

          />
          
            <label for="xres">xres</label>
          
          <ul>
              
                <li>
                  <a href="https://budrich.github.io/dots/xres/urxvt/">
                  <span class="glyphicon glyphicon-file"></span><span
                    
                  >urxvt</span>
                  </a>
                </li>
            
                <li>
                  <a href="https://budrich.github.io/dots/xres/xft/">
                  <span class="glyphicon glyphicon-file"></span><span
                    
                  >xft</span>
                  </a>
                </li>
            
                <li>
                  <a href="https://budrich.github.io/dots/xres/color/">
                  <span class="glyphicon glyphicon-file"></span><span
                    
                  >color</span>
                  </a>
                </li>
            
                <li>
                  <a href="https://budrich.github.io/dots/xres/i3wm/">
                  <span class="glyphicon glyphicon-file"></span><span
                    
                  >i3wm</span>
                  </a>
                </li>
            
            <ul>
            
  
    
      <li>
        <li>
          <input type="checkbox" id="colors" 
          
            ZgotmplZ
          

          ZgotmplZ
          ZgotmplZ
          ZgotmplZ
          

          />
          
            <label for="colors">colors</label>
          
          <ul>
              
                <li>
                  <a href="https://budrich.github.io/dots/xres/colors/hatofgod/">
                  <span class="glyphicon glyphicon-file"></span><span
                    
                  >HatOfGod</span>
                  </a>
                </li>
            
                <li>
                  <a href="https://budrich.github.io/dots/xres/colors/solarized-dark/">
                  <span class="glyphicon glyphicon-file"></span><span
                    
                  >solarized-dark</span>
                  </a>
                </li>
            
            <ul>
            
  

            </ul>
          </ul>
        </li>
      </li>
    
  

            </ul>
          </ul>
        </li>
      </li>
    
  
    
      <li>
        <li>
          <input type="checkbox" id="sublime" 
          
            ZgotmplZ
          

          ZgotmplZ
          ZgotmplZ
          ZgotmplZ
          

          />
          
            <label for="sublime">sublime</label>
          
          <ul>
              
                <li>
                  <a href="https://budrich.github.io/dots/sublime/keymap/">
                  <span class="glyphicon glyphicon-file"></span><span
                    
                  >keymap</span>
                  </a>
                </li>
            
                <li>
                  <a href="https://budrich.github.io/dots/sublime/settings/">
                  <span class="glyphicon glyphicon-file"></span><span
                    
                  >settings</span>
                  </a>
                </li>
            
            <ul>
            
  
    
      <li>
        <li>
          <input type="checkbox" id="schemes" 
          
            ZgotmplZ
          

          ZgotmplZ
          ZgotmplZ
          ZgotmplZ
          

          />
          
            <label for="schemes">schemes</label>
          
          <ul>
              
                <li>
                  <a href="https://budrich.github.io/dots/sublime/schemes/solarized_dark/">
                  <span class="glyphicon glyphicon-file"></span><span
                    
                  >solarized_dark</span>
                  </a>
                </li>
            
                <li>
                  <a href="https://budrich.github.io/dots/sublime/schemes/solarized_light/">
                  <span class="glyphicon glyphicon-file"></span><span
                    
                  >solarized_light</span>
                  </a>
                </li>
            
            <ul>
            
  

            </ul>
          </ul>
        </li>
      </li>
    
  

            </ul>
          </ul>
        </li>
      </li>
    
  
    
      <li>
        <li>
          <input type="checkbox" id="irssi" 
          
            ZgotmplZ
          

          ZgotmplZ
          ZgotmplZ
          ZgotmplZ
          

          />
          
            <label for="irssi">irssi</label>
          
          <ul>
              
                <li>
                  <a href="https://budrich.github.io/dots/irssi/bud/">
                  <span class="glyphicon glyphicon-file"></span><span
                    
                  >bud</span>
                  </a>
                </li>
            
            <ul>
            
  

            </ul>
          </ul>
        </li>
      </li>
    
  
    
      <li>
        <li>
          <input type="checkbox" id="config" 
          
            ZgotmplZ
          

          ZgotmplZ
          ZgotmplZ
          ZgotmplZ
          

          />
          
            <label for="config">config</label>
          
          <ul>
              
                <li>
                  <a href="https://budrich.github.io/dots/config/user-dirs/">
                  <span class="glyphicon glyphicon-file"></span><span
                    
                  >user-dirs</span>
                  </a>
                </li>
            
                <li>
                  <a href="https://budrich.github.io/dots/config/compton/">
                  <span class="glyphicon glyphicon-file"></span><span
                    
                  >compton</span>
                  </a>
                </li>
            
            <ul>
            
  
    
      <li>
        <li>
          <input type="checkbox" id="i3" 
          
            ZgotmplZ
          

          ZgotmplZ
          ZgotmplZ
          ZgotmplZ
          

          />
          
            <label for="i3">i3</label>
          
          <ul>
              
                <li>
                  <a href="https://budrich.github.io/dots/config/i3/config/">
                  <span class="glyphicon glyphicon-file"></span><span
                    
                  >config</span>
                  </a>
                </li>
            
            <ul>
            
  

            </ul>
          </ul>
        </li>
      </li>
    
  
    
      <li>
        <li>
          <input type="checkbox" id="klavaro" 
          
            ZgotmplZ
          

          ZgotmplZ
          ZgotmplZ
          ZgotmplZ
          

          />
          
            <label for="klavaro">klavaro</label>
          
          <ul>
              
                <li>
                  <a href="https://budrich.github.io/dots/config/klavaro/preferences/">
                  <span class="glyphicon glyphicon-file"></span><span
                    
                  >preferences</span>
                  </a>
                </li>
            
            <ul>
            
  

            </ul>
          </ul>
        </li>
      </li>
    
  
    
      <li>
        <li>
          <input type="checkbox" id="polybar" 
          
            ZgotmplZ
          

          ZgotmplZ
          ZgotmplZ
          ZgotmplZ
          

          />
          
            <label for="polybar">polybar</label>
          
          <ul>
              
            <ul>
            
  
    
      <li>
        <li>
          <input type="checkbox" id="src" 
          
            ZgotmplZ
          

          ZgotmplZ
          ZgotmplZ
          ZgotmplZ
          

          />
          
            <label for="src">src</label>
          
          <ul>
              
            <ul>
            
  

            </ul>
          </ul>
        </li>
      </li>
    
  

            </ul>
          </ul>
        </li>
      </li>
    
  

            </ul>
          </ul>
        </li>
      </li>
    
  
    
      <li>
        <li>
          <input type="checkbox" id="tmp" 
          
            ZgotmplZ
          

          ZgotmplZ
          ZgotmplZ
          ZgotmplZ
          

          />
          
            <label for="tmp">tmp</label>
          
          <ul>
              
            <ul>
            
  
    
      <li>
        <li>
          <input type="checkbox" id="kortisar" 
          
            ZgotmplZ
          

          ZgotmplZ
          ZgotmplZ
          ZgotmplZ
          

          />
          
            <label for="kortisar">kortisar</label>
          
          <ul>
              
            <ul>
            
  
    
      <li>
        <li>
          <input type="checkbox" id="dots" 
          
            ZgotmplZ
          

          ZgotmplZ
          ZgotmplZ
          ZgotmplZ
          

          />
          
            <label for="dots" class="section-item"><span class="glyphicon 
            glyphicon-cog"></span>dots</label>
          
          <ul>
              
            <ul>
            
  
    
      <li>
        <li>
          <input type="checkbox" id="config" 
          
            ZgotmplZ
          

          ZgotmplZ
          ZgotmplZ
          ZgotmplZ
          

          />
          
            <label for="config">config</label>
          
          <ul>
              
            <ul>
            
  
    
      <li>
        <li>
          <input type="checkbox" id="dunst" 
          
            ZgotmplZ
          

          ZgotmplZ
          ZgotmplZ
          ZgotmplZ
          

          />
          
            <label for="dunst">dunst</label>
          
          <ul>
              
            <ul>
            
  

            </ul>
          </ul>
        </li>
      </li>
    
  

            </ul>
          </ul>
        </li>
      </li>
    
  

            </ul>
          </ul>
        </li>
      </li>
    
  

            </ul>
          </ul>
        </li>
      </li>
    
  

            </ul>
          </ul>
        </li>
      </li>
    
  

            </ul>
          </ul>
        </li>
      </li>
    
  

            <li><a href="https://gitter.im/budRich-github-io/Lobby#"><span class="glyphicon glyphicon-comment"></span>chat</a></li>
            <li><a href="#"><span class="glyphicon glyphicon-star"></span>links</a></li>
            <li><a href="https://github.com/budRich"><span class="glyphicon glyphicon-random"></span>github</a></li>
            <li><a href="#"><span class="glyphicon glyphicon-gift"></span>donate</a></li>
            <li><a href="#"><span class="glyphicon glyphicon-tag"></span>tags</a></li>
            <li><a href="index.xml" type="application/rss+xml" target="_blank"><span class="glyphicon glyphicon-list-alt"></span>rss</a></li>
          </ul>

          
          <div class="postquote">
I used to live in a room 
full of mirrors; all I 
could see was me. I take 
my spirit and I crash my 
mirrors, now the whole 
world is here for me to 
see.
— Jimi Hendrix</div>


          <hr>
          <div class="copynotice">
           <a rel="license" href="http://creativecommons.org/licenses/by-sa/4.0/"><img alt="Creative Commons License" style="border-width:0" src="https://i.creativecommons.org/l/by-sa/4.0/80x15.png" /></a> © 2017 - Nils Kvist
          </div>
      </div>
    </div>
  </div>
</div>








<article>
<div class="topblock">
<pre class="lolban">
<span class="ef33">                 ██</span><span class="ef39">                          ██  </span>
<span class="ef33">         </span><span class="ef39">       ░██                     </span><span class="ef38">    </span><span class="ef44">░██  </span>
<span class="ef39">  ██████ ██   ██░██       ████</span><span class="ef38">██  </span><span class="ef44">  █████  ██████</span>
<span class="ef39"> ██░░░░ ░██  ░██░███</span><span class="ef38">███ </span><span class="ef44"> ░░░░░░██  ██░░░██░░░██░ </span>
<span class="ef39">░░█████ ░█</span><span class="ef38">█  ░</span><span class="ef44">██░██░░░██  ███████ ░██  ░░   ░██  </span>
<span class="ef38"> ░░░</span><span class="ef44">░░██░██  ░██░██  ░██ ██░░░░██ ░██   </span><span class="ef43">██  </span><span class="ef49">░██  </span>
<span class="ef44"> ██████ ░░██████░██████ ░░████</span><span class="ef43">████</span><span class="ef49">░░█████   ░░██ </span>
<span class="ef44">░░░░░░   ░░░░░░ ░░░░</span><span class="ef43">░   </span><span class="ef49"> ░░░░░░░░  ░░░░░     ░░  </span>

</pre>

<h6>Published 09-20-2017 15:44:11</h6></div>

    

<p>This is a script I wrote to automate the
process of uploading scripts and dotfiles to this web site.</p>

<p>It analyzes the title of Sublime Text to get the filename of the currently open file.</p>

<p>If the file is in <code>~/bin</code> (my local scripfolder), it is a scriptfile, else it is a <em>dotfile</em>. Depending on the type it is sent to different directories within my <a href="https://gohugo.io">hugo</a> project folder. Which is on my <a href="https://db.tt/eFkf49MZ">Dropbox</a>.</p>

<p>With the help of Hugo and <a href="http://pygments.org">Pygments</a> I can render a syntax highlighted HTML version of the script. Which is embedded on the page.</p>

<p>It also creates hardlinks to the script/dotfile and the markdown
in separate folders on my Dropbox, for more convenient editing, backing up and searching and gitting. Since i then have both the file and the markdown at the same place.</p>

<p>A thorough explanation of the file organization is described in the post: <a href="https://budrich.github.io/blog/perfect_folders">perfect folders</a>.</p>

<h2 id="example">example:</h2>

<p>if I run subact while these two files are active in sublime:<br />
<code>~/.xres/urxvt</code> and <code>~/src/subact</code><br />
(<em>i have to run the script twice, once for each file ofc</em>)
It will result in the following files folders and links:</p>
<div class="highlight"><pre><code class="language-text" data-lang="text"><span></span>* ~
  * .xres
      urxvt
  * src
      subact
  * Dropbox
    * website
      * content
        * dots
          * xres
              urxvt.md
        * scripts
            subact.md
      * static
        * dots
          * xres
            * dotfile
              banner.html
            * files
              hardlink to ~/.xres/urxvt
        * scripts
          * scriptfile
              banner.html
          * files
              hardlink to ~/src/subact
    * scripts
        hardlink to subact.md
        hardlink to ~/src/subact
    * scripts
        * xres
            hardlink to urxvt.md
            hardlink to ~/.xres/urxvt
</code></pre></div>

<p><a href="https://gohugo.io">Hugo</a> uses the html template engine to perform some magic
and I have two websites created in a fragrance of a second:<br />
<code>http://mysite.com/scripts/subact</code></p>

<hr>

<div class="embedfile">




<a href=scripts/subact/files/subact>scripts/subact</a>

<div class="highlight"><pre><code class="language-shell" data-lang="shell"><span></span><span class="ch">#!/bin/bash</span>

<span class="c1"># subact - perform action on currently open file in sublime</span>
<span class="c1"># if file is argument dont catch title from sublime</span>
<span class="c1"># </span>
<span class="c1"># dependencies:</span>
<span class="c1"># -------------</span>
<span class="c1"># i3get</span>
<span class="c1"># toilet</span>
<span class="c1"># lolcat</span>
<span class="c1"># ansi2html</span>


<span class="nv">REM_ROOT</span><span class="o">=</span><span class="s2">&quot;</span><span class="si">${</span><span class="nv">HOME</span><span class="si">}</span><span class="s2">/www&quot;</span>
<span class="nv">FLD_SCRIPTS</span><span class="o">=</span><span class="s2">&quot;scripts&quot;</span>
<span class="nv">FLD_DOTS</span><span class="o">=</span><span class="s2">&quot;dots&quot;</span>
<span class="nv">LOC_SCIRPT_SRC</span><span class="o">=</span><span class="s2">&quot;</span><span class="si">${</span><span class="nv">HOME</span><span class="si">}</span><span class="s2">/bin&quot;</span>

<span class="nv">FORTUNE_OPTIONS</span><span class="o">=</span><span class="s2">&quot;</span><span class="nv">$HOME</span><span class="s2">/etc/fortunes/budcol&quot;</span>
<span class="nv">TOILET_OPTIONS</span><span class="o">=</span><span class="s1">&#39;-f 3d.flf&#39;</span>
<span class="nv">LOLCAT_OPTIONS</span><span class="o">=</span><span class="s1">&#39;-p 10&#39;</span>

newpost<span class="o">(){</span>
  <span class="nb">cd</span> <span class="si">${</span><span class="nv">REM_ROOT</span><span class="si">}</span> 
  <span class="c1"># create _index.md in all subfolders to define</span>
  <span class="c1"># sections properly.</span>
  <span class="nv">trgtmp</span><span class="o">=</span><span class="si">${</span><span class="nv">trg_url</span><span class="p">%</span><span class="s1">&#39;/&#39;</span><span class="p">*</span><span class="si">}</span>
  <span class="nb">echo</span> <span class="s2">&quot;</span><span class="si">${</span><span class="nv">trg_url</span><span class="si">}</span><span class="s2">&quot;</span>
  <span class="k">while</span> <span class="o">[[</span> -n <span class="si">${</span><span class="nv">trgtmp</span><span class="si">}</span> <span class="o">]]</span><span class="p">;</span> <span class="k">do</span>
    hugo new <span class="s2">&quot;</span><span class="si">${</span><span class="nv">trgtmp</span><span class="si">}</span><span class="s2">/_index.md&quot;</span>
    sed -i <span class="s2">&quot;/title/c\title: \&quot;</span><span class="si">${</span><span class="nv">trgtmp</span><span class="p">##*</span><span class="s1">&#39;/&#39;</span><span class="si">}</span><span class="s2">\&quot;&quot;</span> <span class="s2">&quot;content/</span><span class="si">${</span><span class="nv">trgtmp</span><span class="si">}</span><span class="s2">/_index.md&quot;</span>
    sed -i <span class="s2">&quot;/draft/c\draft: false&quot;</span> <span class="s2">&quot;content/</span><span class="si">${</span><span class="nv">trgtmp</span><span class="si">}</span><span class="s2">/_index.md&quot;</span>
    <span class="nv">trgtmp</span><span class="o">=</span><span class="si">${</span><span class="nv">trgtmp</span><span class="p">%</span><span class="s1">&#39;/&#39;</span><span class="p">*</span><span class="si">}</span>
  <span class="k">done</span>

  hugo new <span class="si">${</span><span class="nv">trg_url</span><span class="si">}</span>.md
  <span class="c1"># https://stackoverflow.com/a/11245501</span>
  sed -i <span class="s2">&quot;/fspath/c\fspath: \&quot;</span><span class="si">${</span><span class="nv">st</span><span class="si">}</span><span class="s2">\&quot;&quot;</span> content/<span class="si">${</span><span class="nv">trg_url</span><span class="si">}</span>.md
  mkdir -p <span class="s2">&quot;</span><span class="si">${</span><span class="nv">trg_lbd</span><span class="si">}</span><span class="s2">&quot;</span>
  postbanner -t <span class="s2">&quot;</span><span class="si">${</span><span class="nv">TOILET_OPTIONS</span><span class="si">}</span><span class="s2">&quot;</span> -l <span class="s2">&quot;</span><span class="si">${</span><span class="nv">LOLCAT_OPTIONS</span><span class="si">}</span><span class="s2">&quot;</span> -o <span class="s2">&quot;</span><span class="si">${</span><span class="nv">trg_lbd</span><span class="si">}</span><span class="s2">/banner.html&quot;</span> <span class="s2">&quot;</span><span class="si">${</span><span class="nv">fo</span><span class="si">}</span><span class="s2">&quot;</span>
  postquote -f <span class="s2">&quot;</span><span class="si">${</span><span class="nv">FORTUNE_OPTIONS</span><span class="si">}</span><span class="s2">&quot;</span> <span class="s2">&quot;</span><span class="si">${</span><span class="nv">trg_lbd</span><span class="si">}</span><span class="s2">/quote.html&quot;</span>
<span class="o">}</span>

<span class="k">if</span> <span class="o">[[</span> ! -f <span class="s2">&quot;</span><span class="si">${</span><span class="nv">1</span><span class="p">/</span><span class="s1">&#39;~&#39;</span><span class="p">/</span><span class="nv">$HOME</span><span class="si">}</span><span class="s2">&quot;</span> <span class="o">]]</span><span class="p">;</span> <span class="k">then</span>
  <span class="nv">st</span><span class="o">=</span><span class="k">$(</span>i3get -i sublime_text -r t<span class="k">)</span>
  <span class="nv">st</span><span class="o">=</span><span class="si">${</span><span class="nv">st</span><span class="p">%</span><span class="s1">&#39; -&#39;</span><span class="p">*</span><span class="si">}</span>
  <span class="o">[[</span> <span class="nv">$st</span> <span class="o">=</span>~ <span class="s1">&#39;(&#39;</span> <span class="o">]]</span> <span class="o">&amp;&amp;</span> <span class="nv">st</span><span class="o">=</span><span class="si">${</span><span class="nv">st</span><span class="p">%</span><span class="s1">&#39; (&#39;</span><span class="p">*</span><span class="si">}</span>
  <span class="nv">st</span><span class="o">=</span><span class="si">${</span><span class="nv">st</span><span class="p">:</span><span class="nv">1</span><span class="si">}</span>         <span class="c1"># fullpath short</span>
<span class="k">else</span>
  <span class="nv">st</span><span class="o">=</span><span class="s2">&quot;</span><span class="si">${</span><span class="nv">1</span><span class="si">}</span><span class="s2">&quot;</span>
<span class="k">fi</span>

<span class="nv">fp</span><span class="o">=</span><span class="si">${</span><span class="nv">st</span><span class="p">/</span><span class="s1">&#39;~&#39;</span><span class="p">/</span><span class="nv">$HOME</span><span class="si">}</span> <span class="c1"># fullpath extended</span>
<span class="nv">fl</span><span class="o">=</span><span class="si">${</span><span class="nv">fp</span><span class="p">##*</span><span class="s1">&#39;/&#39;</span><span class="si">}</span>     <span class="c1"># filename</span>
<span class="nv">fc</span><span class="o">=</span><span class="si">${</span><span class="nv">fp</span><span class="p">//</span><span class="s1">&#39;.&#39;</span><span class="p">/</span><span class="si">}</span>     <span class="c1"># path without dots</span>
<span class="c1"># remove extension or leading dot</span>
<span class="o">[[</span> <span class="si">${</span><span class="nv">fl</span><span class="p">:</span><span class="nv">0</span><span class="p">:</span><span class="nv">1</span><span class="si">}</span> <span class="o">=</span> <span class="s1">&#39;.&#39;</span> <span class="o">]]</span> <span class="o">&amp;&amp;</span> <span class="nv">fo</span><span class="o">=</span><span class="si">${</span><span class="nv">fl</span><span class="p">:</span><span class="nv">1</span><span class="si">}</span> <span class="o">||</span> <span class="nv">fo</span><span class="o">=</span><span class="si">${</span><span class="nv">fl</span><span class="p">%.*</span><span class="si">}</span>
<span class="nv">fd</span><span class="o">=</span><span class="si">${</span><span class="nv">fc</span><span class="p">%</span><span class="s1">&#39;/&#39;</span><span class="p">*</span><span class="si">}</span>      <span class="c1"># dir</span>

<span class="o">[[</span> <span class="nv">$fd</span> <span class="o">=</span> <span class="nv">$HOME</span> <span class="o">]]</span> <span class="o">&amp;&amp;</span> <span class="nv">fd</span><span class="o">+=</span><span class="s1">&#39;/&#39;</span>

<span class="k">if</span> <span class="o">[[</span> <span class="nv">$fd</span> <span class="o">=</span> <span class="nv">$LOC_SCIRPT_SRC</span> <span class="o">]]</span><span class="p">;</span> <span class="k">then</span> 
  <span class="nv">trg</span><span class="o">=</span><span class="si">${</span><span class="nv">FLD_SCRIPTS</span><span class="si">}</span>
  <span class="nv">trg_mdd</span><span class="o">=</span><span class="s2">&quot;</span><span class="si">${</span><span class="nv">REM_ROOT</span><span class="si">}</span><span class="s2">/content/</span><span class="si">${</span><span class="nv">trg</span><span class="si">}</span><span class="s2">&quot;</span>
  <span class="nv">trg_mdf</span><span class="o">=</span><span class="s2">&quot;</span><span class="si">${</span><span class="nv">trg_mdd</span><span class="si">}</span><span class="s2">/</span><span class="si">${</span><span class="nv">fo</span><span class="si">}</span><span class="s2">.md&quot;</span>
  <span class="nv">trg_lbd</span><span class="o">=</span><span class="s2">&quot;</span><span class="si">${</span><span class="nv">REM_ROOT</span><span class="si">}</span><span class="s2">/static/</span><span class="si">${</span><span class="nv">trg</span><span class="si">}</span><span class="s2">/</span><span class="si">${</span><span class="nv">fo</span><span class="si">}</span><span class="s2">&quot;</span>
  <span class="nv">trg_fld</span><span class="o">=</span><span class="s2">&quot;</span><span class="si">${</span><span class="nv">trg_lbd</span><span class="si">}</span><span class="s2">/files&quot;</span>
  <span class="nv">trg_flf</span><span class="o">=</span><span class="s2">&quot;</span><span class="si">${</span><span class="nv">trg_fld</span><span class="si">}</span><span class="s2">/</span><span class="si">${</span><span class="nv">fo</span><span class="si">}</span><span class="s2">&quot;</span>
<span class="k">else</span>
  <span class="nv">trg</span><span class="o">=</span><span class="si">${</span><span class="nv">FLD_DOTS</span><span class="si">}</span>
  <span class="nv">trg_mdd</span><span class="o">=</span><span class="s2">&quot;</span><span class="si">${</span><span class="nv">REM_ROOT</span><span class="si">}</span><span class="s2">/content/</span><span class="si">${</span><span class="nv">trg</span><span class="si">}</span><span class="s2">/</span><span class="si">${</span><span class="nv">fd</span><span class="p">/</span><span class="si">${</span><span class="nv">HOME</span><span class="si">}</span><span class="se">\/</span><span class="p">/</span><span class="si">}</span><span class="s2">&quot;</span>
  <span class="nv">trg_mdf</span><span class="o">=</span><span class="s2">&quot;</span><span class="si">${</span><span class="nv">trg_mdd</span><span class="si">}</span><span class="s2">/</span><span class="si">${</span><span class="nv">fo</span><span class="si">}</span><span class="s2">.md&quot;</span>
  <span class="nv">trg_lbd</span><span class="o">=</span><span class="s2">&quot;</span><span class="si">${</span><span class="nv">REM_ROOT</span><span class="si">}</span><span class="s2">/static/</span><span class="si">${</span><span class="nv">trg</span><span class="si">}</span><span class="s2">/</span><span class="si">${</span><span class="nv">fd</span><span class="p">/</span><span class="si">${</span><span class="nv">HOME</span><span class="si">}</span><span class="se">\/</span><span class="p">/</span><span class="si">}</span><span class="s2">/</span><span class="si">${</span><span class="nv">fo</span><span class="si">}</span><span class="s2">&quot;</span>
  <span class="nv">trg_lbf</span><span class="o">=</span><span class="s2">&quot;</span><span class="si">${</span><span class="nv">trg_lbd</span><span class="si">}</span><span class="s2">/banner.html&quot;</span>
  <span class="nv">trg_fld</span><span class="o">=</span><span class="s2">&quot;</span><span class="si">${</span><span class="nv">trg_lbd</span><span class="si">}</span><span class="s2">/files&quot;</span>
  <span class="nv">trg_flf</span><span class="o">=</span><span class="s2">&quot;</span><span class="si">${</span><span class="nv">trg_fld</span><span class="si">}</span><span class="s2">/</span><span class="si">${</span><span class="nv">fo</span><span class="si">}</span><span class="s2">&quot;</span>
<span class="k">fi</span>

<span class="nv">trg_url</span><span class="o">=</span><span class="s2">&quot;</span><span class="si">${</span><span class="nv">trg_mdd</span><span class="p">/</span><span class="si">${</span><span class="nv">REM_ROOT</span><span class="si">}</span><span class="se">\/</span><span class="nv">content</span><span class="p">/</span><span class="si">}</span><span class="s2">/</span><span class="si">${</span><span class="nv">fo</span><span class="si">}</span><span class="s2">&quot;</span>
<span class="c1"># backup link folder</span>
<span class="nv">trg_dbd</span><span class="o">=</span><span class="s2">&quot;</span><span class="si">${</span><span class="nv">HOME</span><span class="si">}${</span><span class="nv">trg_mdd</span><span class="p">/</span><span class="si">${</span><span class="nv">REM_ROOT</span><span class="si">}</span><span class="se">\/</span><span class="nv">content</span><span class="p">/</span><span class="si">}</span><span class="s2">&quot;</span>
<span class="nv">trg_dbd</span><span class="o">=</span><span class="s2">&quot;</span><span class="si">${</span><span class="nv">trg_dbd</span><span class="p">/scripts/src</span><span class="si">}</span><span class="s2">&quot;</span>
<span class="nv">trg_dbd</span><span class="o">=</span><span class="s2">&quot;</span><span class="si">${</span><span class="nv">trg_dbd</span><span class="p">/dots/dot</span><span class="si">}</span><span class="s2">&quot;</span>

<span class="c1"># create files and links if they don&#39;t exist</span>
<span class="o">[[</span> ! -f <span class="s2">&quot;</span><span class="si">${</span><span class="nv">trg_mdf</span><span class="si">}</span><span class="s2">&quot;</span> <span class="o">]]</span> <span class="o">&amp;&amp;</span> newpost
<span class="k">if</span> <span class="o">[[</span> ! -f <span class="s2">&quot;</span><span class="si">${</span><span class="nv">trg_flf</span><span class="si">}</span><span class="s2">&quot;</span> <span class="o">]]</span><span class="p">;</span><span class="k">then</span>
  mkdir -p <span class="s2">&quot;</span><span class="si">${</span><span class="nv">trg_fld</span><span class="si">}</span><span class="s2">&quot;</span>
  <span class="c1"># move file from FS to DB</span>
  mv <span class="nv">$fp</span> <span class="s2">&quot;</span><span class="si">${</span><span class="nv">trg_flf</span><span class="si">}</span><span class="s2">&quot;</span>  
  <span class="c1"># if dot, link back to FS</span>
  <span class="o">[[</span> ! <span class="nv">$fd</span> <span class="o">=</span> <span class="nv">$LOC_SCIRPT_SRC</span> <span class="o">]]</span> <span class="o">&amp;&amp;</span> ln <span class="s2">&quot;</span><span class="si">${</span><span class="nv">trg_flf</span><span class="si">}</span><span class="s2">&quot;</span> <span class="nv">$fp</span>
  <span class="c1"># create links to convenient folders</span>
  mkdir -p <span class="si">${</span><span class="nv">trg_dbd</span><span class="si">}</span>
  ln <span class="si">${</span><span class="nv">trg_flf</span><span class="si">}</span> <span class="si">${</span><span class="nv">trg_dbd</span><span class="si">}</span>/<span class="si">${</span><span class="nv">fl</span><span class="si">}</span>
<span class="k">fi</span>

i3run -i <span class="s1">&#39;sublime_text&#39;</span> -e subl
subl <span class="s2">&quot;</span><span class="si">${</span><span class="nv">trg_mdf</span><span class="si">}</span><span class="s2">&quot;</span>
</code></pre></div>
</div>
<hr>


<div id="disqus_thread"></div>
<script type="text/javascript">

(function() {
    
    
    if (window.location.hostname == "localhost")
        return;

    var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
    var disqus_shortname = 'budRich';
    dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
    (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
})();
</script>
<noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
<a href="http://disqus.com/" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>

</article>



<script>
(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

ga('create', 'UA-75784183-1', 'auto');
ga('send', 'pageview');
</script>



</body>
</html>

