<!doctype html>
<html>
<head>
    <base href="https://budrich.github.io/">
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, minimum-scale=1.0, maximum-scale=1.0, user-scalable=no">
<meta name="author" content="">

<meta name="description" content="">

<title>i3list</title>
<meta name="generator" content="Hugo 0.30.2" />
<link  href="https://budrich.github.io/stylesheets/styles.css" rel="stylesheet" type="text/css">

</head>
<body>




<input type="checkbox" id="sidebar" name="sidebar" class="sidebar-checkbox"/>
<div class="sidebar">
  <div class="sbbg">
    <div class="sbcontent">
      <a href="https://budrich.github.io/"  class="logo"><pre class="logo">
▗▄▄      ▐  ▗      ▐      
▐  ▌▗ ▗ ▄▟  ▐    ▄▖▐▄▖ ▄▖ 
▐▄▄▘▐ ▐▐▘▜  ▐   ▝ ▐▐▘▜▐ ▝ 
▐  ▌▐ ▐▐ ▐  ▐   ▗▀▜▐ ▐ ▀▚ 
▐▄▄▘▝▄▜▝▙█  ▐▄▄▖▝▄▜▐▙▛▝▄▞ 

[OC] by budRich since 2017
</pre>
</a>
      <label class="sidebar-toggle" for="sidebar"><span>Toggle</span></label>
      <div class="css-treeview box">  
          <ul>
            <li><a href="https://budrich.github.io/abouts/whoami"><span class="glyphicon glyphicon-briefcase"></span>about</a></li>
            <li>
              <li>
                <input type="checkbox" id="blog" checked />
                <label for="blog" class="section-item"><span class="glyphicon glyphicon-home"></span>blog</label>
                <ul>
                  
                  
                  
                  
                  
                    
                  
                    
                  
                    
                  
                    
                  
                    
                  
                    
                      
                      
                      
                      
                        
                        <li><li>
                        <input type="checkbox" id="2017" 
                        
                          checked
                         />
                        <label for="2017">2017</label><ul>
                        
                        
                      
                      
                        
                        <li><li>
                        <input type="checkbox" id="November" 
                        
                          checked
                         />
                        <label for="November">November</label><ul>
                        
                        
                      
                      
                        <li class="post-in-tree"><a href="https://budrich.github.io/blog/extreme_i3/"><span class="tree-date">21</span>|<span>extreme_i3</span></a></li>
                      
                    
                  
                    
                  
                    
                  
                    
                  
                    
                  
                    
                  
                    
                  
                    
                      
                      
                      
                      
                      
                        
                          </ul></li></li>
                        
                        <li><li>
                        <input type="checkbox" id="October" 
                         />
                        <label for="October">October</label><ul>
                        
                        
                      
                      
                        <li class="post-in-tree"><a href="https://budrich.github.io/blog/sublime_setup/"><span class="tree-date">17</span>|<span>sublime_setup</span></a></li>
                      
                    
                  
                    
                  
                    
                  
                    
                  
                    
                  
                    
                      
                      
                      
                      
                      
                      
                        <li class="post-in-tree"><a href="https://budrich.github.io/blog/fresh_start/"><span class="tree-date">01</span>|<span>fresh_start</span></a></li>
                      
                    
                  
                    
                      
                      
                      
                      
                      
                        
                          </ul></li></li>
                        
                        <li><li>
                        <input type="checkbox" id="September" 
                         />
                        <label for="September">September</label><ul>
                        
                        
                      
                      
                        <li class="post-in-tree"><a href="https://budrich.github.io/blog/perfect_folders/"><span class="tree-date">29</span>|<span>perfect_folders</span></a></li>
                      
                    
                  
                    
                      
                      
                      
                      
                      
                      
                        <li class="post-in-tree"><a href="https://budrich.github.io/blog/mouseback/"><span class="tree-date">25</span>|<span>mouseback</span></a></li>
                      
                    
                  
                    
                      
                      
                      
                      
                      
                      
                        <li class="post-in-tree"><a href="https://budrich.github.io/blog/swedish_keyboards/"><span class="tree-date">25</span>|<span>swedish_keyboards</span></a></li>
                      
                    
                  
                    
                      
                      
                      
                      
                      
                      
                        <li class="post-in-tree"><a href="https://budrich.github.io/blog/me_myself_and_i3/"><span class="tree-date">25</span>|<span>me_myself_and_i3</span></a></li>
                      
                    
                  
                    
                      
                      
                      
                      
                      
                      
                        <li class="post-in-tree"><a href="https://budrich.github.io/blog/install_i3/"><span class="tree-date">25</span>|<span>install_i3</span></a></li>
                      
                    
                  
                    
                      
                      
                      
                      
                      
                      
                        <li class="post-in-tree"><a href="https://budrich.github.io/blog/i3_setup/"><span class="tree-date">25</span>|<span>i3_setup</span></a></li>
                      
                    
                  
                    
                      
                      
                      
                      
                      
                      
                        <li class="post-in-tree"><a href="https://budrich.github.io/blog/font_rendering/"><span class="tree-date">25</span>|<span>font_rendering</span></a></li>
                      
                    
                  
                    
                  
                    
                  
                    
                  
                    
                  
                    
                  
                    
                  
                    
                  
                    
                  
                    
                  
                    
                  
                    
                  
                    
                  
                    
                  
                    
                  
                    
                  
                    
                  
                    
                  
                    
                  
                    
                  
                    
                  
                    
                  
                    
                  
                    
                  
                    
                  
                    
                  
                    
                  
                    
                  
                    
                  
                    
                  
                    
                  
                    
                  
                    
                  
                    
                  
                    
                  
                    
                  
                    
                  
                    
                  
                    
                  
                    
                  
                    
                  
                    
                  
                    
                      
                      
                      
                      
                      
                      
                    
                  
                    
                  
                    
                  
                    
                  
                    
                  
                </ul></li></li>
                </ul></li></li>
                </ul></li></li>

            
  
    
      <li>
        <li>
          <input type="checkbox" id="scripts" 
          
            ZgotmplZ
          

          ZgotmplZ
          ZgotmplZ
          ZgotmplZ
          

          />
          
            <label for="scripts" class="section-item"><span class="glyphicon 
            glyphicon-console"></span>scripts</label>
          
          <ul>
              
                <li>
                  <a href="https://budrich.github.io/scripts/igi/">
                  <span class="glyphicon glyphicon-file"></span><span
                    
                  >igi</span>
                  </a>
                </li>
            
                <li>
                  <a href="https://budrich.github.io/scripts/subact/">
                  <span class="glyphicon glyphicon-file"></span><span
                    
                  >subact</span>
                  </a>
                </li>
            
            <ul>
            
  

            </ul>
          </ul>
        </li>
      </li>
    
  
    
      <li>
        <li>
          <input type="checkbox" id="i3ass" 
          
            ZgotmplZ
          

          ZgotmplZ
          ZgotmplZ
          ZgotmplZ
          
            checked
          

          />
          
            <label for="i3ass" class="section-item"><span class="glyphicon 
            glyphicon-th-large"></span>i3ass</label>
          
          <ul>
              
                <li>
                  <a href="https://budrich.github.io/i3ass/readme/">
                  <span class="glyphicon glyphicon-file"></span><span
                    
                  >README</span>
                  </a>
                </li>
            
                <li>
                  <a href="https://budrich.github.io/i3ass/i3fyra/">
                  <span class="glyphicon glyphicon-file"></span><span
                    
                  >i3fyra</span>
                  </a>
                </li>
            
                <li>
                  <a href="https://budrich.github.io/i3ass/i3list/">
                  <span class="glyphicon glyphicon-file"></span><span
                    
                      class="active-page"
                    
                  >i3list</span>
                  </a>
                </li>
            
                <li>
                  <a href="https://budrich.github.io/i3ass/i3term/">
                  <span class="glyphicon glyphicon-file"></span><span
                    
                  >i3term</span>
                  </a>
                </li>
            
                <li>
                  <a href="https://budrich.github.io/i3ass/i3zen/">
                  <span class="glyphicon glyphicon-file"></span><span
                    
                  >i3zen</span>
                  </a>
                </li>
            
                <li>
                  <a href="https://budrich.github.io/i3ass/i3run/">
                  <span class="glyphicon glyphicon-file"></span><span
                    
                  >i3run</span>
                  </a>
                </li>
            
                <li>
                  <a href="https://budrich.github.io/i3ass/i3mtm/">
                  <span class="glyphicon glyphicon-file"></span><span
                    
                  >i3mtm</span>
                  </a>
                </li>
            
                <li>
                  <a href="https://budrich.github.io/i3ass/i3gw/">
                  <span class="glyphicon glyphicon-file"></span><span
                    
                  >i3gw</span>
                  </a>
                </li>
            
                <li>
                  <a href="https://budrich.github.io/i3ass/i3get/">
                  <span class="glyphicon glyphicon-file"></span><span
                    
                  >i3get</span>
                  </a>
                </li>
            
                <li>
                  <a href="https://budrich.github.io/i3ass/i3cast/">
                  <span class="glyphicon glyphicon-file"></span><span
                    
                  >i3cast</span>
                  </a>
                </li>
            
            <ul>
            
  

            </ul>
          </ul>
        </li>
      </li>
    
  
    
  
    
  
    
      <li>
        <li>
          <input type="checkbox" id="dots" 
          
            ZgotmplZ
          

          ZgotmplZ
          ZgotmplZ
          ZgotmplZ
          

          />
          
            <label for="dots" class="section-item"><span class="glyphicon 
            glyphicon-cog"></span>dots</label>
          
          <ul>
              
                <li>
                  <a href="https://budrich.github.io/dots/profile/">
                  <span class="glyphicon glyphicon-file"></span><span
                    
                  >profile</span>
                  </a>
                </li>
            
                <li>
                  <a href="https://budrich.github.io/dots/bashrc/">
                  <span class="glyphicon glyphicon-file"></span><span
                    
                  >bashrc</span>
                  </a>
                </li>
            
                <li>
                  <a href="https://budrich.github.io/dots/xresources/">
                  <span class="glyphicon glyphicon-file"></span><span
                    
                  >Xresources</span>
                  </a>
                </li>
            
                <li>
                  <a href="https://budrich.github.io/dots/xinitrc/">
                  <span class="glyphicon glyphicon-file"></span><span
                    
                  >xinitrc</span>
                  </a>
                </li>
            
            <ul>
            
  
    
      <li>
        <li>
          <input type="checkbox" id="bash" 
          
            ZgotmplZ
          

          ZgotmplZ
          ZgotmplZ
          ZgotmplZ
          

          />
          
            <label for="bash">bash</label>
          
          <ul>
              
                <li>
                  <a href="https://budrich.github.io/dots/bash/prompt/">
                  <span class="glyphicon glyphicon-file"></span><span
                    
                  >prompt</span>
                  </a>
                </li>
            
                <li>
                  <a href="https://budrich.github.io/dots/bash/func/">
                  <span class="glyphicon glyphicon-file"></span><span
                    
                  >func</span>
                  </a>
                </li>
            
                <li>
                  <a href="https://budrich.github.io/dots/bash/misc/">
                  <span class="glyphicon glyphicon-file"></span><span
                    
                  >misc</span>
                  </a>
                </li>
            
                <li>
                  <a href="https://budrich.github.io/dots/bash/export/">
                  <span class="glyphicon glyphicon-file"></span><span
                    
                  >export</span>
                  </a>
                </li>
            
                <li>
                  <a href="https://budrich.github.io/dots/bash/alias/">
                  <span class="glyphicon glyphicon-file"></span><span
                    
                  >alias</span>
                  </a>
                </li>
            
            <ul>
            
  

            </ul>
          </ul>
        </li>
      </li>
    
  
    
      <li>
        <li>
          <input type="checkbox" id="xres" 
          
            ZgotmplZ
          

          ZgotmplZ
          ZgotmplZ
          ZgotmplZ
          

          />
          
            <label for="xres">xres</label>
          
          <ul>
              
                <li>
                  <a href="https://budrich.github.io/dots/xres/urxvt/">
                  <span class="glyphicon glyphicon-file"></span><span
                    
                  >urxvt</span>
                  </a>
                </li>
            
                <li>
                  <a href="https://budrich.github.io/dots/xres/xft/">
                  <span class="glyphicon glyphicon-file"></span><span
                    
                  >xft</span>
                  </a>
                </li>
            
                <li>
                  <a href="https://budrich.github.io/dots/xres/color/">
                  <span class="glyphicon glyphicon-file"></span><span
                    
                  >color</span>
                  </a>
                </li>
            
                <li>
                  <a href="https://budrich.github.io/dots/xres/i3wm/">
                  <span class="glyphicon glyphicon-file"></span><span
                    
                  >i3wm</span>
                  </a>
                </li>
            
            <ul>
            
  
    
      <li>
        <li>
          <input type="checkbox" id="colors" 
          
            ZgotmplZ
          

          ZgotmplZ
          ZgotmplZ
          ZgotmplZ
          

          />
          
            <label for="colors">colors</label>
          
          <ul>
              
                <li>
                  <a href="https://budrich.github.io/dots/xres/colors/hatofgod/">
                  <span class="glyphicon glyphicon-file"></span><span
                    
                  >HatOfGod</span>
                  </a>
                </li>
            
                <li>
                  <a href="https://budrich.github.io/dots/xres/colors/solarized-dark/">
                  <span class="glyphicon glyphicon-file"></span><span
                    
                  >solarized-dark</span>
                  </a>
                </li>
            
            <ul>
            
  

            </ul>
          </ul>
        </li>
      </li>
    
  

            </ul>
          </ul>
        </li>
      </li>
    
  
    
      <li>
        <li>
          <input type="checkbox" id="sublime" 
          
            ZgotmplZ
          

          ZgotmplZ
          ZgotmplZ
          ZgotmplZ
          

          />
          
            <label for="sublime">sublime</label>
          
          <ul>
              
                <li>
                  <a href="https://budrich.github.io/dots/sublime/keymap/">
                  <span class="glyphicon glyphicon-file"></span><span
                    
                  >keymap</span>
                  </a>
                </li>
            
                <li>
                  <a href="https://budrich.github.io/dots/sublime/settings/">
                  <span class="glyphicon glyphicon-file"></span><span
                    
                  >settings</span>
                  </a>
                </li>
            
            <ul>
            
  
    
      <li>
        <li>
          <input type="checkbox" id="schemes" 
          
            ZgotmplZ
          

          ZgotmplZ
          ZgotmplZ
          ZgotmplZ
          

          />
          
            <label for="schemes">schemes</label>
          
          <ul>
              
                <li>
                  <a href="https://budrich.github.io/dots/sublime/schemes/solarized_dark/">
                  <span class="glyphicon glyphicon-file"></span><span
                    
                  >solarized_dark</span>
                  </a>
                </li>
            
                <li>
                  <a href="https://budrich.github.io/dots/sublime/schemes/solarized_light/">
                  <span class="glyphicon glyphicon-file"></span><span
                    
                  >solarized_light</span>
                  </a>
                </li>
            
            <ul>
            
  

            </ul>
          </ul>
        </li>
      </li>
    
  

            </ul>
          </ul>
        </li>
      </li>
    
  
    
      <li>
        <li>
          <input type="checkbox" id="irssi" 
          
            ZgotmplZ
          

          ZgotmplZ
          ZgotmplZ
          ZgotmplZ
          

          />
          
            <label for="irssi">irssi</label>
          
          <ul>
              
                <li>
                  <a href="https://budrich.github.io/dots/irssi/bud/">
                  <span class="glyphicon glyphicon-file"></span><span
                    
                  >bud</span>
                  </a>
                </li>
            
            <ul>
            
  

            </ul>
          </ul>
        </li>
      </li>
    
  
    
      <li>
        <li>
          <input type="checkbox" id="config" 
          
            ZgotmplZ
          

          ZgotmplZ
          ZgotmplZ
          ZgotmplZ
          

          />
          
            <label for="config">config</label>
          
          <ul>
              
                <li>
                  <a href="https://budrich.github.io/dots/config/user-dirs/">
                  <span class="glyphicon glyphicon-file"></span><span
                    
                  >user-dirs</span>
                  </a>
                </li>
            
                <li>
                  <a href="https://budrich.github.io/dots/config/compton/">
                  <span class="glyphicon glyphicon-file"></span><span
                    
                  >compton</span>
                  </a>
                </li>
            
            <ul>
            
  
    
      <li>
        <li>
          <input type="checkbox" id="i3" 
          
            ZgotmplZ
          

          ZgotmplZ
          ZgotmplZ
          ZgotmplZ
          

          />
          
            <label for="i3">i3</label>
          
          <ul>
              
                <li>
                  <a href="https://budrich.github.io/dots/config/i3/config/">
                  <span class="glyphicon glyphicon-file"></span><span
                    
                  >config</span>
                  </a>
                </li>
            
            <ul>
            
  

            </ul>
          </ul>
        </li>
      </li>
    
  
    
      <li>
        <li>
          <input type="checkbox" id="klavaro" 
          
            ZgotmplZ
          

          ZgotmplZ
          ZgotmplZ
          ZgotmplZ
          

          />
          
            <label for="klavaro">klavaro</label>
          
          <ul>
              
                <li>
                  <a href="https://budrich.github.io/dots/config/klavaro/preferences/">
                  <span class="glyphicon glyphicon-file"></span><span
                    
                  >preferences</span>
                  </a>
                </li>
            
            <ul>
            
  

            </ul>
          </ul>
        </li>
      </li>
    
  
    
      <li>
        <li>
          <input type="checkbox" id="polybar" 
          
            ZgotmplZ
          

          ZgotmplZ
          ZgotmplZ
          ZgotmplZ
          

          />
          
            <label for="polybar">polybar</label>
          
          <ul>
              
            <ul>
            
  
    
      <li>
        <li>
          <input type="checkbox" id="src" 
          
            ZgotmplZ
          

          ZgotmplZ
          ZgotmplZ
          ZgotmplZ
          

          />
          
            <label for="src">src</label>
          
          <ul>
              
            <ul>
            
  

            </ul>
          </ul>
        </li>
      </li>
    
  

            </ul>
          </ul>
        </li>
      </li>
    
  

            </ul>
          </ul>
        </li>
      </li>
    
  
    
      <li>
        <li>
          <input type="checkbox" id="tmp" 
          
            ZgotmplZ
          

          ZgotmplZ
          ZgotmplZ
          ZgotmplZ
          

          />
          
            <label for="tmp">tmp</label>
          
          <ul>
              
            <ul>
            
  
    
      <li>
        <li>
          <input type="checkbox" id="kortisar" 
          
            ZgotmplZ
          

          ZgotmplZ
          ZgotmplZ
          ZgotmplZ
          

          />
          
            <label for="kortisar">kortisar</label>
          
          <ul>
              
            <ul>
            
  
    
      <li>
        <li>
          <input type="checkbox" id="dots" 
          
            ZgotmplZ
          

          ZgotmplZ
          ZgotmplZ
          ZgotmplZ
          

          />
          
            <label for="dots" class="section-item"><span class="glyphicon 
            glyphicon-cog"></span>dots</label>
          
          <ul>
              
            <ul>
            
  
    
      <li>
        <li>
          <input type="checkbox" id="config" 
          
            ZgotmplZ
          

          ZgotmplZ
          ZgotmplZ
          ZgotmplZ
          

          />
          
            <label for="config">config</label>
          
          <ul>
              
            <ul>
            
  
    
      <li>
        <li>
          <input type="checkbox" id="dunst" 
          
            ZgotmplZ
          

          ZgotmplZ
          ZgotmplZ
          ZgotmplZ
          

          />
          
            <label for="dunst">dunst</label>
          
          <ul>
              
            <ul>
            
  

            </ul>
          </ul>
        </li>
      </li>
    
  

            </ul>
          </ul>
        </li>
      </li>
    
  

            </ul>
          </ul>
        </li>
      </li>
    
  

            </ul>
          </ul>
        </li>
      </li>
    
  

            </ul>
          </ul>
        </li>
      </li>
    
  

            </ul>
          </ul>
        </li>
      </li>
    
  

            <li><a href="https://gitter.im/budRich-github-io/Lobby#"><span class="glyphicon glyphicon-comment"></span>chat</a></li>
            <li><a href="#"><span class="glyphicon glyphicon-star"></span>links</a></li>
            <li><a href="https://github.com/budRich"><span class="glyphicon glyphicon-random"></span>github</a></li>
            <li><a href="#"><span class="glyphicon glyphicon-gift"></span>donate</a></li>
            <li><a href="#"><span class="glyphicon glyphicon-tag"></span>tags</a></li>
            <li><a href="index.xml" type="application/rss+xml" target="_blank"><span class="glyphicon glyphicon-list-alt"></span>rss</a></li>
          </ul>

          
          <div class="postquote">
“Do you hate people?”

“I don't hate them...I 
just feel better when 
they're not around.”
— Charles Bukowski</div>


          <hr>
          <div class="copynotice">
           <a rel="license" href="http://creativecommons.org/licenses/by-sa/4.0/"><img alt="Creative Commons License" style="border-width:0" src="https://i.creativecommons.org/l/by-sa/4.0/80x15.png" /></a> © 2017 - Nils Kvist
          </div>
      </div>
    </div>
  </div>
</div>








<article>
<div class="topblock">
<pre class="lolban">
<span class="ef198"> ██  ████   ██ ██          </span><span class="ef199"> ██  </span>
<span class="ef198">░░  █░░░ █ ░██░░ </span><span class="ef199">          ░██  </span>
<span class="ef198"> ██░   </span><span class="ef199"> ░█ ░██ ██  ██████ ██████</span>
<span class="ef199">░██   ███  ░██░██ ██░░░░ ░░</span><span class="ef163">░██░</span><span class="ef164"> </span>
<span class="ef199">░██  ░░░ █ ░██░██</span><span class="ef163">░░██</span><span class="ef164">███   ░██  </span>
<span class="ef199">░██ █  </span><span class="ef163"> ░█ </span><span class="ef164">░██░██ ░░░░░██  ░██  </span>
<span class="ef163">░</span><span class="ef164">██░ ████  ███░██ ██████   ░░██ </span>
<span class="ef164">░░  ░░░░  ░░░ ░░ ░░░░░░    </span><span class="ef128"> ░░ </span><span class="ef129"> </span>

</pre>

<h6>Published 11-19-2017 22:20:17</h6></div>

    

<p>This script is vital for <a href="https://budrich.github.io/i3ass/i3fyra">i3fyra</a> to work. But it can be used on it&rsquo;s own or with other scripts. <code>i3list</code> is also used by <a href="https://budrich.github.io/i3ass/i3run">i3run</a>. <strong>i3list</strong> parses the output of the command:<br />
<code>i3-msg -t get_tree</code><br />
and returns a long string with 43 values separated by spaces. This strange output format is made to make it possible to pipe the output to other scripts. A lot of the information is specific to <a href="https://budrich.github.io/i3ass/i3fyra">i3fyra</a>, but if i3list doesn&rsquo;t find a value an X will be placed in it&rsquo;s place in the output.</p>

<p>The idea, is to use this script once, and get all the info about i3&rsquo;s current state in one big chunk. So one doesn&rsquo;t have to make more requests for tree output. It have sped up my own scripts a lot. And it also makes many listener scripts unnecessary. The parsing is done with awk, and it is very fast, about 25ms on my average computer (i5, 4GB). Same operation with pure bash would take at least a whole second (x40).</p>

<p>I have made another script, <a href="https://budrich.github.io/i3ass/i3get">i3get</a>, that works in a similar way but where you choose which information you want in the output. It is slightly faster (-5ms).</p>

<h2 id="usage">usage</h2>

<p><code>i3list [OPTION CRITERIA]</code></p>
<div class="highlight"><pre><code class="language-text" data-lang="text"><span></span>option | argument | function
----------------------------

-v     |           | Show version and exit.
-h     |           | Show this info and exit. 
-c     | CLASS     | Search for windows with the given CLASS
-i     | INSTANCE  | Search for windows with the given INSTANCE
-t     | TITLE     | Search for windows with the given TITLE
-n     | CON_ID    | Search for windows with the given CON_ID
-d     | WINDOW_ID | Search for windows with the given WINDOW ID
-m     | CON_MARK  | Search for windows with the given MARK
</code></pre></div>

<p>If no option is passed, active window will be target.</p>

<p>example output:</p>
<div class="highlight"><pre><code class="language-shell" data-lang="shell"><span></span>$ i3list
  <span class="m">1</span> ABD C ABDC g u a X <span class="m">1</span> <span class="m">94834554562528</span> f-94834554562528 g u a X <span class="m">1</span> <span class="se">\</span>
  <span class="m">94834554562528</span> f-94834554562528 t <span class="m">94834555596640</span> <span class="m">94834555347456</span> <span class="se">\</span>
  <span class="m">94834555596640</span> t <span class="m">94834555517248</span> <span class="m">94834555517248</span> <span class="m">94834555517248</span> t <span class="se">\</span>
  <span class="m">94834555385280</span> <span class="m">94834555385280</span> <span class="m">94834555385280</span> t <span class="m">94834555516528</span> <span class="se">\</span>
  <span class="m">94834555556800</span> <span class="m">94834555556800</span> <span class="m">1069</span> <span class="m">585</span> <span class="m">234</span> <span class="m">1056</span> <span class="m">900</span> <span class="m">234</span> A BD <span class="m">1600</span> <span class="m">900</span>
</code></pre></div>

<p>Below is a cipher for the output:</p>
<div class="highlight"><pre><code class="language-text" data-lang="text"><span></span>field: 0   - AWW -  current workspace
field: 1   - VIS -  visible containers
field: 2   - HID -  hidden containers
field: 3   - EXS -  existing containers (VIS+HID)
field: 4   - AWP -  Active window position (b|e|m|o|g|i)
field: 5   - AWL -  Active window layout (t|v|h|s|u)
field: 6   - AWS -  Active window status (f|a|n)
field: 7   - AWC -  Active window container (A|B|C|D|X)
field: 8   - AWW -  Active window workspace
field: 9   - AWI -  Active window id (con_id)
field: 10  - AWM -  Active window mark
field: 11  - TWP -  Target window position (b|e|m|o|g|i)
field: 12  - TWL -  Target window layout (t|v|h|s|u)
field: 13  - TWS -  Target window status (f|a|n)
field: 14  - TWC -  Target window container (A|B|C|D|X)
field: 15  - TWW -  Target window workspace
field: 16  - TWI -  Target window id (con_id)
field: 17  - TWM -  Target window mark
field: 18  - LOA -  Container A layout
field: 19  - FCA -  Container A first child (con_id)
field: 20  - LCA -  Container A last child (con_id)
field: 21  - ACA -  Container A focused child (con_id)
field: 22  - LOB -  Container B layout
field: 23  - FCB -  Container B first child (con_id)
field: 24  - LCB -  Container B last child (con_id)
field: 25  - ACB -  Container B focused child (con_id)
field: 26  - LOC -  Container C layout
field: 27  - FCC -  Container C first child (con_id)
field: 28  - LCC -  Container C last child (con_id)
field: 29  - ACC -  Container C focused child (con_id)
field: 30  - LOD -  Container D layout
field: 31  - FCD -  Container D first child (con_id)
field: 32  - LCD -  Container D last child (con_id)
field: 33  - ACD -  Container D focused child (con_id)
field: 34  - SAB -  Stored AB split (mark i34SAB_*)
field: 35  - SAC -  Stored AC split (mark i34SAC_*)
field: 36  - SBD -  Stored BD split (mark i34SBD_*)
field: 37  - CAB -  Current AB split (width of i34XAC)
field: 38  - CAC -  Current AC split (height of i34A)
field: 39  - CBD -  Current BD split (height of i34B)
field: 40  - FAC -  Family AC memory (mark i34FAC_*)
field: 41  - FBD -  Family AC memory (mark i34FBD_*)
field: 42  - SDW -  Width of current workspace
field: 43  - SDH -  Height of curent workspace

position (b|e|m|g|i)
b - beginning  first child in container
e - end        last child in container
m - middle     neither first or last
o - only       only child in container
g - floating   not handled by i3fyra
i - tiled      not handled by i3fyra

layout (t|v|h|s|u)
t - tabbed
v - vertical
h - horizontal
s - stacked
u - unknown (not handled by i3fyra)

status (f|a|n)
f - focused (visible window in a tabbed container)
a - active window
n = neither active or focused
</code></pre></div>

<p>The best way to handle the output is to put it in an array.
Example (bash/terminal):</p>
<div class="highlight"><pre><code class="language-shell" data-lang="shell"><span></span>$ <span class="nv">list_array</span><span class="o">=</span><span class="k">$(</span>i3list<span class="k">)</span>
$ <span class="nb">echo</span> <span class="si">${</span><span class="nv">list_array</span><span class="p">[42]</span><span class="si">}</span>
  <span class="m">1600</span> <span class="c1"># width of current workspace</span>
</code></pre></div>

<hr>

<div class="embedfile">




<a href=i3ass/i3list/files/i3list>i3ass/i3list</a>

<div class="highlight"><pre><code class="language-shell" data-lang="shell"><span></span><span class="ch">#!/bin/sh</span>

<span class="nv">NAME</span><span class="o">=</span><span class="s2">&quot;i3list&quot;</span>
<span class="nv">VERSION</span><span class="o">=</span><span class="s2">&quot;0.123&quot;</span>
<span class="nv">AUTHOR</span><span class="o">=</span><span class="s2">&quot;budRich&quot;</span>
<span class="nv">CONTACT</span><span class="o">=</span><span class="s1">&#39;robstenklippa@gmail.com&#39;</span>
<span class="nv">CREATED</span><span class="o">=</span><span class="s2">&quot;2017-10-06&quot;</span>
<span class="nv">UPDATED</span><span class="o">=</span><span class="s2">&quot;2017-11-19&quot;</span>

<span class="nv">about</span><span class="o">=</span><span class="s2">&quot;</span>
<span class="nv">$NAME</span><span class="s2"> - </span><span class="nv">$VERSION</span><span class="s2"> - </span><span class="nv">$UPDATED</span><span class="s2"></span>
<span class="s2">created: </span><span class="nv">$CREATED</span><span class="s2"> by </span><span class="nv">$AUTHOR</span><span class="s2"></span>
<span class="s2">===============================</span>
<span class="s2">This script is vital for i3fyra to work. But it can be used on it&#39;s own</span>
<span class="s2">or with other scripts. i3list is also used by i3run. i3list parses the</span>
<span class="s2">output of the command:</span>
<span class="s2">i3-msg -t get_tree </span>
<span class="s2">and returns a long string with 43 values separated by spaces. This strange </span>
<span class="s2">output format is made to make it possible to pipe the output to other scripts. </span>
<span class="s2">A lot of the information is specific to i3fyra, but if i3list doesn&#39;t find a </span>
<span class="s2">value an X will be placed in it&#39;s place in the output.</span>

<span class="s2">The idea, is to use this script once, and get all the info about i3&#39;s current</span>
<span class="s2">state in one big chunk. So one doesn&#39;t have to make more requests for </span>
<span class="s2">tree output. It have speeded up my own scripts a lot. And it also makes many</span>
<span class="s2">listener scripts unnecessary. The parsing is done with awk, and it is very</span>
<span class="s2">fast, about 25ms on my average computer (i5, 4GB). Same operation with pure</span>
<span class="s2">bash would take at least a whole second (x40).</span>

<span class="s2">I have made another script, i3get, that works in a similar way but where you</span>
<span class="s2">choose which information you want in the output. It is slightly faster (5ms).</span>

<span class="s2">usage</span>
<span class="s2">-----</span>
<span class="nv">$NAME</span><span class="s2"> [OPTION CRITERIA]</span>

<span class="s2">option | argument | function</span>
<span class="s2">----------------------------</span>

<span class="s2">-v     |           | Show version and exit.</span>
<span class="s2">-h     |           | Show this info and exit. </span>
<span class="s2">-c     | CLASS     | Search for windows with the given CLASS</span>
<span class="s2">-i     | INSTANCE  | Search for windows with the given INSTANCE</span>
<span class="s2">-t     | TITLE     | Search for windows with the given TITLE</span>
<span class="s2">-n     | CON_ID    | Search for windows with the given CON_ID</span>
<span class="s2">-d     | WINDOW_ID | Search for windows with the given WINDOW ID</span>
<span class="s2">-m     | CON_MARK  | Search for windows with the given MARK</span>

<span class="s2">If no option is passed, active window will be target.</span>

<span class="s2">example output:</span>
<span class="s2">\$ i3list</span>
<span class="s2">  1 ABD C ABDC g u a X 1 94834554562528 f-94834554562528 g u a X 1 \</span>
<span class="s2">  94834554562528 f-94834554562528 t 94834555596640 94834555347456 \</span>
<span class="s2">  94834555596640 t 94834555517248 94834555517248 94834555517248 t \</span>
<span class="s2">  94834555385280 94834555385280 94834555385280 t 94834555516528 \</span>
<span class="s2">  94834555556800 94834555556800 1069 585 234 1056 900 234 A BD 1600 900</span>

<span class="s2">Below is a cipher for the output:</span>

<span class="s2">field: 0   - AWW -  current workspace</span>
<span class="s2">field: 1   - VIS -  visible containers</span>
<span class="s2">field: 2   - HID -  hidden containers</span>
<span class="s2">field: 3   - EXS -  existing containers (VIS+HID)</span>
<span class="s2">field: 4   - AWP -  Active window position (b|e|m|o|g|i)</span>
<span class="s2">field: 5   - AWL -  Active window layout (t|v|h|s|u)</span>
<span class="s2">field: 6   - AWS -  Active window status (f|a|n)</span>
<span class="s2">field: 7   - AWC -  Active window container (A|B|C|D|X)</span>
<span class="s2">field: 8   - AWW -  Active window workspace</span>
<span class="s2">field: 9   - AWI -  Active window id (con_id)</span>
<span class="s2">field: 10  - AWM -  Active window mark</span>
<span class="s2">field: 11  - TWP -  Target window position (b|e|m|o|g|i)</span>
<span class="s2">field: 12  - TWL -  Target window layout (t|v|h|s|u)</span>
<span class="s2">field: 13  - TWS -  Target window status (f|a|n)</span>
<span class="s2">field: 14  - TWC -  Target window container (A|B|C|D|X)</span>
<span class="s2">field: 15  - TWW -  Target window workspace</span>
<span class="s2">field: 16  - TWI -  Target window id (con_id)</span>
<span class="s2">field: 17  - TWM -  Target window mark</span>
<span class="s2">field: 18  - LOA -  Container A layout</span>
<span class="s2">field: 19  - FCA -  Container A first child (con_id)</span>
<span class="s2">field: 20  - LCA -  Container A last child (con_id)</span>
<span class="s2">field: 21  - ACA -  Container A focused child (con_id)</span>
<span class="s2">field: 22  - LOB -  Container B layout</span>
<span class="s2">field: 23  - FCB -  Container B first child (con_id)</span>
<span class="s2">field: 24  - LCB -  Container B last child (con_id)</span>
<span class="s2">field: 25  - ACB -  Container B focused child (con_id)</span>
<span class="s2">field: 26  - LOC -  Container C layout</span>
<span class="s2">field: 27  - FCC -  Container C first child (con_id)</span>
<span class="s2">field: 28  - LCC -  Container C last child (con_id)</span>
<span class="s2">field: 29  - ACC -  Container C focused child (con_id)</span>
<span class="s2">field: 30  - LOD -  Container D layout</span>
<span class="s2">field: 31  - FCD -  Container D first child (con_id)</span>
<span class="s2">field: 32  - LCD -  Container D last child (con_id)</span>
<span class="s2">field: 33  - ACD -  Container D focused child (con_id)</span>
<span class="s2">field: 34  - SAB -  Stored AB split (mark i34SAB_*)</span>
<span class="s2">field: 35  - SAC -  Stored AC split (mark i34SAC_*)</span>
<span class="s2">field: 36  - SBD -  Stored BD split (mark i34SBD_*)</span>
<span class="s2">field: 37  - CAB -  Current AB split (width of i34XAC)</span>
<span class="s2">field: 38  - CAC -  Current AC split (height of i34A)</span>
<span class="s2">field: 39  - CBD -  Current BD split (height of i34B)</span>
<span class="s2">field: 40  - FAC -  Family AC memory (mark i34FAC_*)</span>
<span class="s2">field: 41  - FBD -  Family AC memory (mark i34FBD_*)</span>
<span class="s2">field: 42  - SDW -  Width of current workspace</span>
<span class="s2">field: 43  - SDH -  Height of curent workspace</span>

<span class="s2">position (b|e|m|g|i)</span>
<span class="s2">b - beginning  first child in container</span>
<span class="s2">e - end        last child in container</span>
<span class="s2">m - middle     neither first or last</span>
<span class="s2">o - only       only child in container</span>
<span class="s2">g - floating   not handled by i3fyra</span>
<span class="s2">i - tiled      not handled by i3fyra</span>

<span class="s2">layout (t|v|h|s|u)</span>
<span class="s2">t - tabbed</span>
<span class="s2">v - vertical</span>
<span class="s2">h - horizontal</span>
<span class="s2">s - stacked</span>
<span class="s2">u - unknown (not handled by i3fyra)</span>

<span class="s2">status (f|a|n)</span>
<span class="s2">f - focused (visible window in a tabbed container)</span>
<span class="s2">a - active window</span>
<span class="s2">n = neither active or focused</span>

<span class="s2">The best way to handle the output is to put it in an array.</span>
<span class="s2">Example:</span>
<span class="s2">\$ list_array=\$(i3list)</span>
<span class="s2">\$ echo \${list_array[42]}</span>
<span class="s2">  1600 # width of current workspace</span>

<span class="s2">dependencies</span>
<span class="s2">------------</span>

<span class="s2">* i3wm</span>

<span class="s2">contact</span>
<span class="s2">-------</span>
<span class="nv">$CONTACT</span><span class="s2"></span>
<span class="s2">&quot;</span>

<span class="k">while</span> <span class="nb">getopts</span> :c:i:t:n:d:r:m:ayvh option
<span class="k">do</span>
  <span class="k">case</span> <span class="s2">&quot;</span><span class="si">${</span><span class="nv">option</span><span class="si">}</span><span class="s2">&quot;</span> in
    i<span class="o">)</span> <span class="nv">crit</span><span class="o">=</span><span class="s2">&quot;\&quot;instance\&quot;&quot;</span> <span class="nv">srch</span><span class="o">=</span><span class="s2">&quot;</span><span class="si">${</span><span class="nv">OPTARG</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">;;</span>
    c<span class="o">)</span> <span class="nv">crit</span><span class="o">=</span><span class="s2">&quot;\&quot;class\&quot;&quot;</span> <span class="nv">srch</span><span class="o">=</span><span class="s2">&quot;</span><span class="si">${</span><span class="nv">OPTARG</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">;;</span>
    t<span class="o">)</span> <span class="nv">crit</span><span class="o">=</span><span class="s2">&quot;\&quot;title\&quot;&quot;</span> <span class="nv">srch</span><span class="o">=</span><span class="s2">&quot;</span><span class="si">${</span><span class="nv">OPTARG</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">;;</span>
    n<span class="o">)</span> <span class="nv">crit</span><span class="o">=</span><span class="s2">&quot;\&quot;id\&quot;&quot;</span> <span class="nv">srch</span><span class="o">=</span><span class="s2">&quot;</span><span class="si">${</span><span class="nv">OPTARG</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">;;</span>
    d<span class="o">)</span> <span class="nv">crit</span><span class="o">=</span><span class="s2">&quot;\&quot;window\&quot;&quot;</span> <span class="nv">srch</span><span class="o">=</span><span class="s2">&quot;</span><span class="si">${</span><span class="nv">OPTARG</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">;;</span>
    m<span class="o">)</span> <span class="nv">crit</span><span class="o">=</span><span class="s2">&quot;\&quot;marks\&quot;&quot;</span> <span class="nv">srch</span><span class="o">=</span><span class="s2">&quot;</span><span class="si">${</span><span class="nv">OPTARG</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">;;</span>
    a<span class="o">)</span> <span class="nv">crit</span><span class="o">=</span><span class="s2">&quot;\&quot;focused\&quot;&quot;</span> <span class="o">&amp;&amp;</span> <span class="nv">srch</span><span class="o">=</span><span class="s2">&quot;true&quot;</span><span class="p">;;</span>
    y<span class="o">)</span> <span class="nv">synk</span><span class="o">=</span><span class="m">1</span><span class="p">;;</span>
    v<span class="o">)</span> <span class="nb">printf</span> <span class="s2">&quot;</span><span class="nv">$NAME</span><span class="s2"> - version: </span><span class="nv">$VERSION</span><span class="s2">\n&quot;</span>  <span class="o">&amp;&amp;</span> <span class="se">\</span>
       <span class="nb">printf</span> <span class="s2">&quot;updated: </span><span class="nv">$UPDATED</span><span class="s2"> by </span><span class="nv">$AUTHOR</span><span class="s2">\n&quot;</span> <span class="se">\</span>
        <span class="o">&amp;&amp;</span> exit<span class="p">;;</span>
    h<span class="o">)</span> <span class="nb">printf</span> <span class="s2">&quot;</span><span class="si">${</span><span class="nv">about</span><span class="si">}</span><span class="s2">\n&quot;</span> <span class="o">&amp;&amp;</span> exit<span class="p">;;</span>
  <span class="k">esac</span>
<span class="k">done</span>

<span class="nv">synk</span><span class="o">=</span><span class="si">${</span><span class="nv">synk</span><span class="p">:=0</span><span class="si">}</span>
<span class="o">[</span> -z <span class="s2">&quot;</span><span class="nv">$crit</span><span class="s2">&quot;</span> <span class="o">]</span> <span class="o">&amp;&amp;</span> <span class="nv">crit</span><span class="o">=</span><span class="s2">&quot;\&quot;focused\&quot;&quot;</span> <span class="o">&amp;&amp;</span> <span class="nv">srch</span><span class="o">=</span><span class="s2">&quot;true&quot;</span>

containerlist<span class="o">(){</span>
 
  i3-msg -t get_tree <span class="se">\</span>
  <span class="p">|</span> awk -v <span class="nv">RS</span><span class="o">=</span><span class="s1">&#39;,&#39;</span> -F<span class="s1">&#39;:&#39;</span> <span class="se">\</span>
    -v <span class="nv">chkl</span><span class="o">=</span><span class="s2">&quot;</span><span class="k">$(</span><span class="nb">echo</span> i34<span class="o">{</span>A..D<span class="o">}</span><span class="k">)</span><span class="s2">&quot;</span> -v <span class="nv">crit</span><span class="o">=</span><span class="s2">&quot;</span><span class="si">${</span><span class="nv">crit</span><span class="si">}</span><span class="s2">&quot;</span> -v <span class="nv">srch</span><span class="o">=</span><span class="s2">&quot;</span><span class="si">${</span><span class="nv">srch</span><span class="si">}</span><span class="s2">&quot;</span> <span class="se">\</span>
    <span class="s1">&#39;</span>
<span class="s1">      BEGIN{</span>
<span class="s1">        hit=&quot;0&quot;;trg=&quot;0&quot;;act=&quot;0&quot;;marko=&quot;X&quot;;wsdchk=&quot;0&quot;</span>
<span class="s1">        VIS=&quot;X&quot;;HID=&quot;X&quot;;EXS=&quot;X&quot;</span>
<span class="s1">        split(chkl,alst,&quot; &quot;,seps)</span>
<span class="s1">        </span>
<span class="s1">        SDW=&quot;X&quot;;SDH=&quot;X&quot;;CWS=&quot;X&quot;</span>
<span class="s1">        FAC=&quot;X&quot;;FBD=&quot;X&quot;</span>

<span class="s1">        SAB=&quot;X&quot;;SAC=&quot;X&quot;;SBD=&quot;X&quot;</span>
<span class="s1">        CAB=&quot;X&quot;;CAC=&quot;X&quot;;CBD=&quot;X&quot;</span>

<span class="s1">        TWP=&quot;X&quot;;TWL=&quot;X&quot;;TWS=&quot;X&quot;;TWC=&quot;X&quot;</span>
<span class="s1">        TWW=&quot;X&quot;;TWI=&quot;X&quot;;TWM=&quot;X&quot;</span>

<span class="s1">        AWP=&quot;X&quot;;AWL=&quot;X&quot;;AWS=&quot;X&quot;;AWC=&quot;X&quot;</span>
<span class="s1">        AWW=&quot;X&quot;;AWI=&quot;X&quot;;AWM=&quot;X&quot;</span>

<span class="s1">        LOA=&quot;X&quot;;FCA=&quot;X&quot;;LCA=&quot;X&quot;;ACA=&quot;X&quot;</span>
<span class="s1">        LOB=&quot;X&quot;;FCB=&quot;X&quot;;LCB=&quot;X&quot;;ACB=&quot;X&quot;</span>
<span class="s1">        LOC=&quot;X&quot;;FCC=&quot;X&quot;;LCC=&quot;X&quot;;ACC=&quot;X&quot;</span>
<span class="s1">        LOD=&quot;X&quot;;FCD=&quot;X&quot;;LCD=&quot;X&quot;;ACD=&quot;X&quot;</span>
<span class="s1">      }</span>

<span class="s1">      hit!=0 &amp;&amp; $0~&quot;{&quot; {hit++}</span>
<span class="s1">      hit!=0 &amp;&amp; $0~&quot;}&quot; {hit--}</span>
<span class="s1">      hit!=0 &amp;&amp; $1==&quot;\&quot;focus\&quot;&quot; {</span>
<span class="s1">        gsub(&quot;[[]|[]]&quot;,&quot;&quot;,$2)</span>
<span class="s1">        conta[marko][&quot;focused&quot;]=$2</span>
<span class="s1">      }</span>

<span class="s1">      $1==&quot;\&quot;type\&quot;&quot; &amp;&amp; $2==&quot;\&quot;workspace\&quot;&quot; {wsdchk=&quot;1&quot;}</span>
<span class="s1">      wsdchk==&quot;1&quot; &amp;&amp; $1==&quot;\&quot;width\&quot;&quot;  {dim[&quot;w&quot;]=$2}</span>
<span class="s1">      wsdchk==&quot;1&quot; &amp;&amp; $1==&quot;\&quot;height\&quot;&quot; {gsub(&quot;}&quot;,&quot;&quot;,$2);dim[&quot;h&quot;]=$2;wsdchk=&quot;2&quot;}</span>
<span class="s1">      $1==&quot;\&quot;num\&quot;&quot; {curws=$2}</span>
<span class="s1">      wsdchk==&quot;2&quot; &amp;&amp; $1==&quot;\&quot;num\&quot;&quot; {</span>
<span class="s1">        dim[$2][&quot;w&quot;]=dim[&quot;w&quot;]</span>
<span class="s1">        dim[$2][&quot;h&quot;]=dim[&quot;h&quot;]</span>
<span class="s1">        wsdchk=&quot;0&quot;</span>
<span class="s1">      }</span>

<span class="s1">      $1~&quot;{\&quot;id\&quot;&quot; || $2~&quot;\&quot;id\&quot;&quot; {</span>
<span class="s1">        wid=$NF</span>
<span class="s1">        if(trg==&quot;0&quot; || act==&quot;0&quot;){cid=$NF}</span>
<span class="s1">        if(hit!=0){</span>
<span class="s1">          conta[marko][&quot;childs&quot;]=conta[marko][&quot;childs&quot;] wid &quot; &quot;</span>
<span class="s1">          conta[marko][&quot;id&quot;]=cid</span>
<span class="s1">        }</span>
<span class="s1">      }</span>
<span class="s1">      </span>
<span class="s1">      trg==&quot;0&quot; &amp;&amp; $1==crit &amp;&amp; $2 ~ srch  {TWI=cid;trg=&quot;1&quot;;}</span>
<span class="s1">      trg==&quot;0&quot; &amp;&amp; $2 ~ crit &amp;&amp; $3 ~ srch {trg=&quot;1&quot;;TWI=cid}</span>
<span class="s1">      act==&quot;0&quot; &amp;&amp; $1==&quot;\&quot;focused\&quot;&quot; &amp;&amp; $2==&quot;true&quot; {act=&quot;1&quot;;AWI=cid}</span>
<span class="s1">      numchk==&quot;1&quot; &amp;&amp; $1==&quot;\&quot;width\&quot;&quot;  {dim[curws][&quot;w&quot;]=$2}</span>
<span class="s1">      numchk==&quot;1&quot; &amp;&amp; $1==&quot;\&quot;height\&quot;&quot; {gsub(&quot;}&quot;,&quot;&quot;,$2);dim[curws][&quot;h&quot;]=$2;numchk=0}</span>
<span class="s1">      abchk==&quot;1&quot; &amp;&amp; $1==&quot;\&quot;width\&quot;&quot;  {CAB=$2;abchk=0}</span>
<span class="s1">      acchk==&quot;1&quot; &amp;&amp; $1==&quot;\&quot;height\&quot;&quot; {gsub(&quot;}&quot;,&quot;&quot;,$2);CAC=$2;acchk=0}</span>
<span class="s1">      bdchk==&quot;1&quot; &amp;&amp; $1==&quot;\&quot;height\&quot;&quot; {gsub(&quot;}&quot;,&quot;&quot;,$2);CBD=$2;bdchk=0}</span>

<span class="s1">      $1==&quot;\&quot;floating\&quot;&quot; {</span>
<span class="s1">        if(trg!=&quot;2&quot; || act!=&quot;2&quot;) {</span>

<span class="s1">          if(cid == AWI){</span>
<span class="s1">            if($2~&quot;on&quot;){AWP=&quot;g&quot;}</span>
<span class="s1">            if($2!~&quot;on&quot;){AWP=&quot;i&quot;}</span>
<span class="s1">            AWW=curws</span>
<span class="s1">            AWC=&quot;X&quot;</span>
<span class="s1">            AWL=&quot;u&quot;</span>
<span class="s1">            AWS=&quot;a&quot;</span>
<span class="s1">            if(cid == conta[marko][&quot;id&quot;]){</span>
<span class="s1">              AWC=marko</span>
<span class="s1">              AWL=conta[marko][&quot;layout&quot;]</span>
<span class="s1">            }</span>
<span class="s1">            if(cmrk!=&quot;&quot;){AWM=cmrk}</span>
<span class="s1">            act=&quot;2&quot;</span>
<span class="s1">          }</span>

<span class="s1">          if(cid == TWI){</span>
<span class="s1">            if($2~&quot;on&quot;){TWP=&quot;g&quot;}</span>
<span class="s1">            if($2!~&quot;on&quot;){TWP=&quot;i&quot;}</span>
<span class="s1">            TWW=curws</span>
<span class="s1">            TWC=&quot;X&quot;</span>
<span class="s1">            TWL=&quot;u&quot;</span>
<span class="s1">            TWS=&quot;n&quot;</span>
<span class="s1">            if(TWI == AWI){TWS=&quot;a&quot;}</span>
<span class="s1">            if(cid == conta[marko][&quot;id&quot;]){</span>
<span class="s1">              TWC=marko</span>
<span class="s1">              TWL=conta[marko][&quot;layout&quot;]</span>
<span class="s1">            }</span>
<span class="s1">            if(cmrk!=&quot;&quot;){TWM=cmrk}</span>
<span class="s1">            trg=&quot;2&quot;</span>
<span class="s1">          }</span>
<span class="s1">       }</span>
<span class="s1">       cmrk=&quot;&quot;</span>
<span class="s1">     }</span>

<span class="s1">      $1==&quot;\&quot;marks\&quot;&quot; {</span>
<span class="s1">        gsub(&quot;[[]|[]]|\&quot;&quot;,&quot;&quot;,$2);</span>
<span class="s1">        for (m in alst) {</span>
<span class="s1">          if(alst[m] == $2){</span>
<span class="s1">            hit=1</span>
<span class="s1">            gsub(&quot;i34&quot;,&quot;&quot;,alst[m])</span>
<span class="s1">            marko=alst[m]</span>
<span class="s1">            conta[marko][&quot;ws&quot;]=curws</span>
<span class="s1">            conta[marko][&quot;layout&quot;]=&quot;-&quot;}</span>
<span class="s1">        }</span>

<span class="s1">        cmrk=$2</span>

<span class="s1">        if($2~&quot;i34SAB&quot;){</span>
<span class="s1">          split($2,asplt,&quot;_&quot;)</span>
<span class="s1">          SAB=asplt[2]</span>
<span class="s1">        }</span>
<span class="s1">        if($2~&quot;i34SAC&quot;){</span>
<span class="s1">          split($2,asplt,&quot;_&quot;)</span>
<span class="s1">          SAC=asplt[2]</span>
<span class="s1">        }</span>
<span class="s1">        if($2~&quot;i34SBD&quot;){</span>
<span class="s1">          split($2,asplt,&quot;_&quot;)</span>
<span class="s1">          SBD=asplt[2]</span>
<span class="s1">        }</span>
<span class="s1">        if($2~&quot;i34FAC&quot;){</span>
<span class="s1">          split($2,asplt,&quot;_&quot;)</span>
<span class="s1">          FAC=asplt[2]</span>
<span class="s1">        }</span>
<span class="s1">        if($2~&quot;i34FBD&quot;){</span>
<span class="s1">          split($2,asplt,&quot;_&quot;)</span>
<span class="s1">          FBD=asplt[2]</span>
<span class="s1">        }</span>
<span class="s1">        if($2==&quot;i34XAC&quot;){abchk=1}</span>
<span class="s1">        if($2==&quot;i34A&quot;){acchk=1}</span>
<span class="s1">        if($2==&quot;i34B&quot;){bdchk=1}</span>
<span class="s1">      }</span>

<span class="s1">      hit!=0 &amp;&amp; $1==&quot;\&quot;layout\&quot;&quot; &amp;&amp; conta[marko][&quot;layout&quot;]==&quot;-&quot; {</span>
<span class="s1">        gsub(&quot;\&quot;&quot;,&quot;&quot;,$2)</span>
<span class="s1">        if($2==&quot;tabbed&quot;)</span>
<span class="s1">          conta[marko][&quot;layout&quot;]=&quot;t&quot;</span>
<span class="s1">        if($2==&quot;splith&quot;)</span>
<span class="s1">          conta[marko][&quot;layout&quot;]=&quot;h&quot;</span>
<span class="s1">        if($2==&quot;splitv&quot;)</span>
<span class="s1">          conta[marko][&quot;layout&quot;]=&quot;v&quot;</span>
<span class="s1">        if($2==&quot;stacked&quot;)</span>
<span class="s1">          conta[marko][&quot;layout&quot;]=&quot;s&quot;</span>
<span class="s1">      }</span>

<span class="s1">      END{</span>
<span class="s1">        FS=&quot; &quot;</span>
<span class="s1">        if(AWC!=&quot;X&quot;){AWP=&quot;m&quot;}</span>
<span class="s1">        if(TWC!=&quot;X&quot;){TWP=&quot;m&quot;}</span>
<span class="s1">        for (c in conta) {</span>
<span class="s1">          $0=conta[c][&quot;childs&quot;]; tmplngth=NF</span>
<span class="s1">          split(conta[c][&quot;childs&quot;],achld,&quot; &quot;)</span>
<span class="s1">          i=0</span>
<span class="s1">          for(d in achld){</span>
<span class="s1">            i++</span>
<span class="s1">            </span>
<span class="s1">            if(c~/^A$|^B$|^C$|^D$/){</span>
<span class="s1">              if(i == tmplngth){</span>
<span class="s1">                if(AWC==c &amp;&amp; AWI==achld[d]){AWP=&quot;e&quot;}</span>
<span class="s1">                if(TWC==c &amp;&amp; TWI==achld[d]){TWP=&quot;e&quot;}</span>
<span class="s1">                conta[c][&quot;LC&quot;]=achld[d]</span>
<span class="s1">              }</span>
<span class="s1">              if(i==1){</span>
<span class="s1">                if(AWC==c &amp;&amp; AWI==achld[d]){AWP=&quot;b&quot;}</span>
<span class="s1">                if(TWC==c &amp;&amp; TWI==achld[d]){TWP=&quot;b&quot;}</span>
<span class="s1">                conta[c][&quot;FC&quot;]=achld[d]</span>
<span class="s1">              }</span>
<span class="s1">              if(tmplngth==1){</span>
<span class="s1">                if(AWC==c){AWP=&quot;o&quot;}</span>
<span class="s1">                if(TWC==c){TWP=&quot;o&quot;}</span>
<span class="s1">              }</span>
<span class="s1">            }</span>
<span class="s1">          }</span>
<span class="s1">        }   </span>

<span class="s1">        if(TWS!=&quot;a&quot;){</span>
<span class="s1">          TWS=&quot;n&quot;</span>
<span class="s1">          if(conta[TWC][&quot;focused&quot;]==TWI){TWS=&quot;f&quot;}</span>
<span class="s1">        }</span>

<span class="s1">        if(TWI==&quot;&quot;){</span>
<span class="s1">          TWC=&quot;X&quot;;TWW=&quot;X&quot;;TWP=&quot;X&quot;;TWI=&quot;X&quot;}</span>

<span class="s1">        for (c in conta) {</span>
<span class="s1">          if(c~/^A$|^B$|^C$|^D$/){</span>

<span class="s1">            if(conta[c][&quot;ws&quot;]==AWW){gsub(&quot;X&quot;,&quot;&quot;,VIS);VIS=VIS c}</span>
<span class="s1">            if(conta[c][&quot;ws&quot;]!=AWW){gsub(&quot;X&quot;,&quot;&quot;,HID);HID=HID c}</span>

<span class="s1">            if(c==&quot;A&quot;){</span>
<span class="s1">              LOA=conta[c][&quot;layout&quot;]</span>
<span class="s1">              FCA=conta[c][&quot;FC&quot;]</span>
<span class="s1">              LCA=conta[c][&quot;LC&quot;]</span>
<span class="s1">              ACA=conta[c][&quot;focused&quot;]</span>
<span class="s1">            }</span>
<span class="s1">            if(c==&quot;B&quot;){</span>
<span class="s1">              LOB=conta[c][&quot;layout&quot;]</span>
<span class="s1">              FCB=conta[c][&quot;FC&quot;]</span>
<span class="s1">              LCB=conta[c][&quot;LC&quot;]</span>
<span class="s1">              ACB=conta[c][&quot;focused&quot;]</span>
<span class="s1">            }</span>
<span class="s1">            if(c==&quot;C&quot;){</span>
<span class="s1">              LOC=conta[c][&quot;layout&quot;]</span>
<span class="s1">              FCC=conta[c][&quot;FC&quot;]</span>
<span class="s1">              LCC=conta[c][&quot;LC&quot;]</span>
<span class="s1">              ACC=conta[c][&quot;focused&quot;]</span>
<span class="s1">            }</span>
<span class="s1">            if(c==&quot;D&quot;){</span>
<span class="s1">              LOD=conta[c][&quot;layout&quot;]</span>
<span class="s1">              FCD=conta[c][&quot;FC&quot;]</span>
<span class="s1">              LCD=conta[c][&quot;LC&quot;]</span>
<span class="s1">              ACD=conta[c][&quot;focused&quot;]</span>
<span class="s1">            }</span>
<span class="s1">          }</span>
<span class="s1">        }</span>
<span class="s1">        EXS=VIS HID</span>
<span class="s1">        if(EXS==&quot;XX&quot;){EXS=&quot;X&quot;}</span>
<span class="s1">        else{gsub(&quot;X&quot;,&quot;&quot;,EXS)}</span>
<span class="s1">        </span>
<span class="s1">        print AWW &quot; &quot; VIS &quot; &quot; HID &quot; &quot; EXS &quot; &quot; \</span>
<span class="s1">          AWP &quot; &quot; AWL &quot; &quot; AWS &quot; &quot; AWC &quot; &quot; AWW &quot; &quot; AWI &quot; &quot; AWM &quot; &quot; \</span>
<span class="s1">          TWP &quot; &quot; TWL &quot; &quot; TWS &quot; &quot; TWC &quot; &quot; TWW &quot; &quot; TWI &quot; &quot; TWM &quot; &quot; \</span>
<span class="s1">          LOA &quot; &quot; FCA &quot; &quot; LCA &quot; &quot; ACA &quot; &quot; \</span>
<span class="s1">          LOB &quot; &quot; FCB &quot; &quot; LCB &quot; &quot; ACB &quot; &quot; \</span>
<span class="s1">          LOC &quot; &quot; FCC &quot; &quot; LCC &quot; &quot; ACC &quot; &quot; \</span>
<span class="s1">          LOD &quot; &quot; FCD &quot; &quot; LCD &quot; &quot; ACD &quot; &quot; \</span>
<span class="s1">          SAB &quot; &quot; SAC &quot; &quot; SBD &quot; &quot; \</span>
<span class="s1">          CAB &quot; &quot; CAC &quot; &quot; CBD &quot; &quot; \</span>
<span class="s1">          FAC &quot; &quot; FBD &quot; &quot; \</span>
<span class="s1">          dim[AWW][&quot;w&quot;] &quot; &quot; dim[AWW][&quot;h&quot;]</span>
<span class="s1">      }</span>
<span class="s1">    &#39;</span>
<span class="o">}</span>

containerlist
</code></pre></div>
</div>
<hr>


<div id="disqus_thread"></div>
<script type="text/javascript">

(function() {
    
    
    if (window.location.hostname == "localhost")
        return;

    var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
    var disqus_shortname = 'budRich';
    dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
    (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
})();
</script>
<noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
<a href="http://disqus.com/" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>

</article>



<script>
(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

ga('create', 'UA-75784183-1', 'auto');
ga('send', 'pageview');
</script>



</body>
</html>

